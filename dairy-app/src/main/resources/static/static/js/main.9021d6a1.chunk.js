(this["webpackJsonpreact-pagination"]=this["webpackJsonpreact-pagination"]||[]).push([[0],{108:function(e,t,n){},110:function(e,t,n){},143:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),c=n(41),r=n.n(c),o=(n(108),n(10)),s=n(11),l=n(22),d=n(23),u=n(16),h=n(26),m=(n(109),n(110),n(9)),b=n.n(m),j=n(5),O=n(92),f="http://dairyweb-env.eba-rp2mcr7k.ap-south-1.elasticbeanstalk.com/",p=n.n(O).a.create({baseURL:f+"api"}),g=new(function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"getAll",value:function(e){return p.get("/partys",{params:e})}},{key:"get",value:function(e){return p.get("/partys/".concat(e))}},{key:"create",value:function(e){return p.post("/partys",e)}},{key:"update",value:function(e,t){return p.put("/partys/".concat(e),t)}},{key:"updateMobNo",value:function(e,t,n){return p.put("/partys/".concat(e,"/").concat(t),n)}},{key:"delete",value:function(e){return p.delete("/partys/".concat(e))}},{key:"deleteAll",value:function(){return p.delete("/partys")}}]),e}()),y=new(function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"getAll",value:function(e){return p.get("/routes",{params:e})}},{key:"get",value:function(e){return p.get("/routes/".concat(e))}},{key:"create",value:function(e){return p.post("/routes",e)}},{key:"update",value:function(e,t){return p.put("/routes/".concat(e),t)}},{key:"delete",value:function(e){return p.delete("/routes/".concat(e))}},{key:"deleteAll",value:function(){return p.delete("/routes")}}]),e}()),v=n(0),x=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).onChangeName=a.onChangeName.bind(Object(j.a)(a)),a.onChangeAddress=a.onChangeAddress.bind(Object(j.a)(a)),a.onChangeMobNo=a.onChangeMobNo.bind(Object(j.a)(a)),a.onChangeStartDate=a.onChangeStartDate.bind(Object(j.a)(a)),a.onChangeActive=a.onChangeActive.bind(Object(j.a)(a)),a.onChangeRoute=a.onChangeRoute.bind(Object(j.a)(a)),a.onChangeType=a.onChangeType.bind(Object(j.a)(a)),a.onChangeDefaultQuantity=a.onChangeDefaultQuantity.bind(Object(j.a)(a)),a.onChangeRouteSeq=a.onChangeRouteSeq.bind(Object(j.a)(a)),a.saveTutorial=a.saveTutorial.bind(Object(j.a)(a)),a.newTutorial=a.newTutorial.bind(Object(j.a)(a)),a.getRoute=a.getRoute.bind(Object(j.a)(a)),a.myRef=i.a.createRef(),a.myRefType=i.a.createRef();var c=b()();return a.state={id:null,name:"",address:"",mobNo:"",type:"",active:!0,startDate:c.format("DD-MMM-YYYY"),routeId:"",defaultQuantity:1,routes:[],routeSeq:null,submitted:!1},a}return Object(s.a)(n,[{key:"onChangeType",value:function(e){this.setState({type:e.target.value})}},{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeAddress",value:function(e){this.setState({address:e.target.value})}},{key:"onChangeMobNo",value:function(e){e.target.value.length<11&&this.setState({mobNo:e.target.value})}},{key:"onChangeRouteSeq",value:function(e){this.setState({routeSeq:e.target.value})}},{key:"onChangeStartDate",value:function(e){this.setState({startDate:e.target.value})}},{key:"onChangeActive",value:function(e){this.setState({active:e.target.checked})}},{key:"onChangeRoute",value:function(e){this.setState({routeId:e.target.value})}},{key:"onChangeDefaultQuantity",value:function(e){this.setState({defaultQuantity:e.target.value})}},{key:"saveTutorial",value:function(e){var t=this;e.target.disabled=!0;var n={name:this.state.name,address:this.state.address,mobNo:this.state.mobNo,startDate:this.state.startDate,active:this.state.active,routeId:this.myRef.current.value,type:this.myRefType.current.value,defaultQuantity:this.state.defaultQuantity,routeSeq:this.state.routeSeq};console.log(n),this.setState({submitted:!0}),g.create(n).then((function(n){t.setState({id:n.data.id,name:n.data.name,address:n.data.address,mobNo:Response.data.mobNo,active:n.data.active,startDate:n.data.startDate,routeId:n.data.routeId,type:n.data.type,defaultQuantity:n.data.defaultQuantity,routeSeq:n.data.routeSeq,submitted:!0}),e.target.disabled=!1,console.log(n.data)})).catch((function(e){console.log(e)}))}},{key:"newTutorial",value:function(){this.setState({id:null,name:"",address:"",mobNo:"",startDate:b()().format("DD-MMM-YYYY"),active:!0,routeId:"",type:"",defaultQuantity:1,routeSeq:null,submitted:!1})}},{key:"componentDidMount",value:function(){this.getRoute()}},{key:"getRoute",value:function(){var e=this;y.getAll().then((function(t){e.setState({routes:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.routes;return Object(v.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"You submitted successfully!"}),Object(v.jsx)("button",{className:"btn btn-success",onClick:this.newTutorial,children:"Add"})]}):Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Customer Name"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"name",required:!0,value:this.state.name,onChange:this.onChangeName,name:"name"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"address",children:"Address"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"address",required:!0,value:this.state.address,onChange:this.onChangeAddress,name:"address"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"mobNo",children:"MobNo"}),Object(v.jsx)("input",{type:"number",className:"form-control phone validate",id:"mobNo",required:!0,value:this.state.mobNo,onChange:this.onChangeMobNo,name:"mobNo"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"startDate",children:"Start Date"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"startDate",required:!0,value:this.state.startDate,onChange:this.onChangeStartDate,name:"startDate"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"defaultQuantity",children:"Default Quantity"}),Object(v.jsx)("input",{type:"number",className:"form-control",id:"defaultQuantity",required:!0,value:this.state.defaultQuantity,onChange:this.onChangeDefaultQuantity,name:"defaultQuantity"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"routeId",children:"Route"}),Object(v.jsx)("div",{className:"select-container",children:Object(v.jsx)("select",{className:"form-control",value:this.state.routeId,onChange:this.onChangeRoute,ref:this.myRef,name:"routeId",children:e.map((function(e){return Object(v.jsx)("option",{value:e.id,children:e.name})}))})})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"routeSeq",children:"Route Sequene"}),Object(v.jsx)("input",{type:"number",className:"form-control",id:"routeSeq",required:!0,value:this.state.routeSeq,onChange:this.onChangeRouteSeq,name:"routeSeq"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"type",children:"Type"}),Object(v.jsx)("div",{className:"select-container",children:Object(v.jsxs)("select",{className:"form-control",value:this.state.type,onChange:this.onChangeType,ref:this.myRefType,name:"type",children:[Object(v.jsx)("option",{value:"customer",children:"Customer"}),Object(v.jsx)("option",{value:"staff",children:"Staff"}),Object(v.jsx)("option",{value:"vendor",children:"Vendor"}),Object(v.jsx)("option",{value:"farmer",children:"Farmer"}),Object(v.jsx)("option",{value:"chicken",children:"Chicken"}),Object(v.jsx)("option",{value:"car",children:"Car"}),Object(v.jsx)("option",{value:"ace",children:"Ace"}),Object(v.jsx)("option",{value:"vegetable",children:"Vegetable"}),Object(v.jsx)("option",{value:"grains",children:"Grains"}),Object(v.jsx)("option",{value:"fuel",children:"Fuel"})]})})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"active",children:"Active"}),Object(v.jsx)("input",{type:"checkbox",className:"form-control",id:"active",name:"active",onChange:this.onChangeActive,defaultChecked:this.state.active})]}),Object(v.jsx)("button",{onClick:this.saveTutorial,className:"btn btn-success",children:"Submit"})]})})}}]),n}(a.Component),C=new(function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"getAll",value:function(e){return p.get("/products",{params:e})}},{key:"get",value:function(e){return p.get("/products/".concat(e))}},{key:"create",value:function(e){return p.post("/products",e)}},{key:"update",value:function(e,t){return p.put("/products/".concat(e),t)}},{key:"delete",value:function(e){return p.delete("/products/".concat(e))}},{key:"deleteAll",value:function(){return p.delete("/products")}}]),e}()),k=new(function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"upload",value:function(e,t){var n=new FormData;return n.append("file",e),n.append("prefix",t),p.post("/upload",n,{headers:{"Content-Type":"multipart/form-data"}})}},{key:"getFiles",value:function(){return p.get("/files")}}]),e}()),D=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).onChangeName=a.onChangeName.bind(Object(j.a)(a)),a.onChangeminRate=a.onChangeminRate.bind(Object(j.a)(a)),a.onChangemaxRate=a.onChangemaxRate.bind(Object(j.a)(a)),a.onChangeImagePath=a.onChangeImagePath.bind(Object(j.a)(a)),a.onChangedescription=a.onChangedescription.bind(Object(j.a)(a)),a.onChangeType=a.onChangeType.bind(Object(j.a)(a)),a.saveTutorial=a.saveTutorial.bind(Object(j.a)(a)),a.newTutorial=a.newTutorial.bind(Object(j.a)(a)),a.selectFile=a.selectFile.bind(Object(j.a)(a)),a.upload=a.upload.bind(Object(j.a)(a));b()();return a.state={id:null,name:"",minRate:"",maxRate:"",imagePath:"",description:"",submitted:!1,message:"",selectedFiles:void 0,uploadDisable:!1},a}return Object(s.a)(n,[{key:"onChangeType",value:function(e){this.setState({type:e.target.value})}},{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeminRate",value:function(e){this.setState({minRate:e.target.value})}},{key:"onChangemaxRate",value:function(e){this.setState({maxRate:e.target.value})}},{key:"onChangeImagePath",value:function(e){this.setState({imagePath:e.target.value,selectedFiles:void 0,uploadDisable:!0})}},{key:"selectFile",value:function(e){this.setState({selectedFiles:e.target.files,imagePath:e.target.files[0].name})}},{key:"upload",value:function(e){var t=this,n=this.state.selectedFiles[0];this.setState({currentFile:n}),k.upload(n,"P_"+e).then((function(e){t.setState({message:e.data.message})})).catch((function(){t.setState({message:"Could not upload the file!",currentFile:void 0})})),this.setState({selectedFiles:void 0})}},{key:"onChangedescription",value:function(e){this.setState({description:e.target.value})}},{key:"saveTutorial",value:function(e){var t=this;e.target.disabled=!0;var n={name:this.state.name,minRate:this.state.minRate,maxRate:this.state.maxRate,imagePath:this.state.imagePath,description:this.state.description};this.setState({submitted:!0}),C.create(n).then((function(n){t.setState({id:n.data.id,name:n.data.name,minRate:n.data.minRate,maxRate:n.data.maxRate,imagePath:n.data.imagePath,description:n.data.description,submitted:!0}),t.state.selectedFiles&&t.upload(n.data.id),e.target.disabled=!1,console.log(n.data)})).catch((function(e){console.log(e)}))}},{key:"newTutorial",value:function(){this.setState({id:null,name:"",minRate:"",maxRate:"",imagePath:"",description:"",submitted:!1})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state,t=(e.products,e.message);e.selectedFiles;return Object(v.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"You submitted successfully!"}),t,Object(v.jsx)("button",{className:"btn btn-success",onClick:this.newTutorial,children:"Add"})]}):Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Product Name"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"name",required:!0,value:this.state.name,onChange:this.onChangeName,name:"name"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"minRate",children:"MinRate"}),Object(v.jsx)("input",{type:"number",className:"form-control",id:"minRate",required:!0,value:this.state.minRate,onChange:this.onChangeminRate,name:"minRate"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"maxRate",children:"MaxRate"}),Object(v.jsx)("input",{type:"number",className:"form-control",id:"maxRate",required:!0,value:this.state.maxRate,onChange:this.onChangemaxRate,name:"maxRate"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"imagePath",children:"ImagePath"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"imagePath",required:!0,value:this.state.imagePath,onChange:this.onChangeImagePath,name:"imagePath"}),Object(v.jsx)("label",{className:"btn btn-default",children:Object(v.jsx)("input",{disabled:this.state.uploadDisable,type:"file",onChange:this.selectFile})})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"description",children:"Description"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"description",required:!0,value:this.state.description,onChange:this.onChangedescription,name:"description"})]}),Object(v.jsx)("button",{onClick:this.saveTutorial,className:"btn btn-success",children:"Submit"})]})})}}]),n}(a.Component),Y=n(15),M=n(12),N=n(3),S=n(25),w=n(4),I=n(17),P=new(function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"getAll",value:function(e){return p.get("/dailyBills",{params:e})}},{key:"get",value:function(e){return p.get("/dailyBills/".concat(e))}},{key:"create",value:function(e){return p.post("/dailyBills",e)}},{key:"update",value:function(e,t){return p.put("/dailyBills/".concat(e),t)}},{key:"delete",value:function(e){return p.delete("/dailyBills/".concat(e))}},{key:"deleteAll",value:function(){return p.delete("/dailyBills")}}]),e}()),R=new(function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"getAll",value:function(e){return p.get("/routeStocks",{params:e})}},{key:"get",value:function(e){return p.get("/routeStocks/".concat(e))}},{key:"create",value:function(e){return p.post("/routeStocks",e)}},{key:"update",value:function(e,t){return p.put("/routeStocks/".concat(e),t)}},{key:"delete",value:function(e){return p.delete("/routeStocks/".concat(e))}},{key:"deleteAll",value:function(){return p.delete("/routeStocks")}}]),e}()),q=n(13);function A(e){e&&e.select(),e&&e.focus()}function z(e){var t=e.row,n=e.column,a=e.onRowChange,i=e.onClose;return Object(v.jsx)("input",{type:"number",inputmode:"numeric",className:"rdg-text-editor textEditor",ref:A,value:t[n.key],onChange:function(e){return a(Object(N.a)(Object(N.a)({},t),{},Object(q.a)({},n.key,e.target.value)))},onBlur:function(){return i(!0)}})}var B=n(176),T=[{key:"quantity",name:"Stock Q",width:40,editor:z,editorOptions:{editOnClick:!0},resizable:!0},{key:"routeId",name:"Action",width:40,resizable:!0,formatter:function(e){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(u.b,{disable:"true",to:e.row.quantity?"/gui/dailyDelivery/"+e.row.id:"",className:"badge badge-warning",children:"Start"})})}},{key:"delivered",name:"Delivered Q",width:100,resizable:!0},{key:"pending",name:"Pending",width:80,resizable:!0,formatter:function(e){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(u.b,{disable:"true",to:e.row.quantity?"/gui/dailyDelivery/"+e.row.id+"/"+e.row.pending:"",className:"badge badge-warning",children:["Pending - ",e.row.pending]})})}},{key:"served",name:"Customer Served",width:140,resizable:!0},{key:"totalCustomer",name:"Total Customer",width:130,resizable:!0},{key:"customerQuantity",name:"Required Q",width:100,resizable:!0},{key:"id",name:"Route ID",width:80,resizable:!0},{key:"name",name:"Name",editor:I.b,editorOptions:{editOnClick:!0},resizable:!0},{key:"address",name:"Address",editor:I.b,editorOptions:{editOnClick:!0},resizable:!0}],F=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).rowChange=a.rowChange.bind(Object(j.a)(a)),a.saveRoute=a.saveRoute.bind(Object(j.a)(a)),a.routeStockService=a.routeStockService.bind(Object(j.a)(a)),a.state={rows:[]},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.retrieveRoutes()}},{key:"retrieveRoutes",value:function(){var e=this,t=b()(),n=null,a={date:t.format("DD"),month:t.format("MMM-YYYY"),type:"income"};y.getAll(a).then((function(t){var i=t.data;console.log(i),n=new Array(i.length),i.map((function(e,t){n[t]={},n[t].id=e.id,n[t].name=e.name,n[t].address=e.address,e.extraInfo&&(n[t].totalCustomer=e.extraInfo.customerCount,n[t].customerQuantity=e.extraInfo.customerTotalQuantity,n[t].served=e.extraInfo.customerDeliveredCount,n[t].delivered=e.extraInfo.customerDeliveredQuantity,n[t].pending=e.extraInfo.customerPendingCount)})),e.routeStockService(a,n)})).catch((function(e){console.log(e)}))}},{key:"routeStockService",value:function(e,t){var n=this;R.getAll(e).then((function(e){var a=e.data;a&&a.map((function(e,n){var a,i=Object(Y.a)(t);try{for(i.s();!(a=i.n()).done;){var c=a.value;if(c.id==e.routeId){c.quantity=e.quantity,c.routeStockId=e.id;break}}}catch(r){i.e(r)}finally{i.f()}})),n.setState({rows:t})})).catch((function(e){console.log(e)}))}},{key:"rowChange",value:function(e,t){this.saveRoute(e[t.indexes],t),this.setState({rows:e})}},{key:"saveRoute",value:function(e,t){if("quantity"!=t.column.key){var n={id:e.id,name:e.name,address:e.address};y.update(e.id,n).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}else{(n={id:e.routeStockId,routeId:e.id,quantity:+e.quantity,date:b()().format("DD"),month:b()().format("MMM-YYYY")}).id?R.update(n.id,n).then((function(t){console.log(t.data),e.routeStockId=t.data.id})).catch((function(e){console.log(e)})):R.create(n).then((function(t){console.log(t.data),e.routeStockId=t.data.id})).catch((function(e){console.log(e)}))}}},{key:"render",value:function(){var e=this.state.rows;return Object(v.jsxs)("div",{children:[Object(v.jsxs)(B.a,{container:!0,spacing:{xs:4},children:[Object(v.jsx)(B.a,{item:!0,xs:6,sm:6,children:Object(v.jsx)(u.b,{to:"/gui/route",className:"nav-link",children:"Add Route"})}),Object(v.jsx)(B.a,{item:!0,xs:6,sm:6,children:Object(v.jsx)(u.b,{className:"nav-link",children:b()().format("DD-MMM-YYYY")})})]}),Object(v.jsx)(I.c,{columns:T,rows:e,onRowsChange:this.rowChange})]})}}]),n}(a.Component);function W(e){var t=e.row,n=e.onRowChange,i=function(){var e=Object(a.useState)(),t=Object(w.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){n&&0!==n.length||y.getAll().then((function(e){i(e.data),console.log(n)})).catch((function(e){console.log(e)}))}),[n]),{selectData:n}}(),c=i.selectData;return Object(v.jsx)("select",{className:I.b.textEditorClassname,value:t.routeId,onChange:function(e){return n(Object(N.a)(Object(N.a)({},t),{},{routeId:e.target.value}),!0)},autoFocus:!0,children:c&&c.map((function(e){return Object(v.jsx)("option",{value:e.id,children:e.name},e.id)}))})}var Q=["filters"],E=Object(a.createContext)(void 0);function L(e){["ArrowLeft","ArrowRight"].includes(e.key)&&e.stopPropagation()}function U(e){switch(e){case"name":case"description":return function(t,n){return t[e].localeCompare(n[e])};default:return function(t,n){return t[e]-n[e]}}}var _=function(e){var t=Object(a.useState)([]),n=Object(w.a)(t,2),i=n[0],c=n[1],r=Object(a.useState)([]),o=Object(w.a)(r,2),s=o[0],l=o[1],d=Object(a.useState)({name:"",enabled:!0}),h=Object(w.a)(d,2),m=h[0],b=h[1],j=[{key:"id",name:"ID",width:40,resizable:!0,headerCellClass:"filter-cell",headerRenderer:function(e){return Object(v.jsx)(K,Object(N.a)(Object(N.a)({},e),{},{children:function(e){var t=e.filters,n=Object(S.a)(e,Q);return Object(v.jsx)("input",Object(N.a)(Object(N.a)({},n),{},{className:"filterClassname",value:t.name,onChange:function(e){return b(Object(N.a)(Object(N.a)({},t),{},{name:e.target.value}))},onKeyDown:L}))}}))}},{key:"name",name:"Name",editor:I.b,editorOptions:{editOnClick:!0},resizable:!0},{key:"minRate",name:"minRate",editor:z,editorOptions:{editOnClick:!0},resizable:!0},{key:"maxRate",name:"maxRate",editor:z,editorOptions:{editOnClick:!0},resizable:!0},{key:"imagePath",name:"ImagePath",editor:I.b,editorOptions:{editOnClick:!0},resizable:!0},{key:"description",name:"Description",editor:I.b,editorOptions:{editOnClick:!0},resizable:!0},{key:"image",name:"Image",width:80,resizable:!0,formatter:function(e){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("img",{src:e.row.imagePath.startsWith("http")?e.row.imagePath:f+"static/images/P_"+e.row.id+"_"+e.row.imagePath})})}}];Object(a.useEffect)((function(){var e=null;C.getAll({_sort:"routeId",_order:"asc"}).then((function(t){var n=t.data;e=new Array(n.length),n.map((function(t,n){e[n]={},e[n].id=t.id,e[n].name=t.name,e[n].minRate=t.minRate,e[n].maxRate=t.maxRate,e[n].imagePath=t.imagePath,e[n].description=t.description})),c(e)})).catch((function(e){console.log(e)}))}),[]);var O=Object(a.useMemo)((function(){return function(){var e=null;return e=i.filter((function(e){return!m.name||e.name.includes(m.name)})),0===s.length?e:e=Object(M.a)(e).sort((function(e,t){var n,a=Object(Y.a)(s);try{for(a.s();!(n=a.n()).done;){var i=n.value,c=U(i.columnKey)(e,t);if(0!==c)return"ASC"===i.direction?c:-c}}catch(r){a.e(r)}finally{a.f()}return 0}))}()}),[i,m,s]);return Object(v.jsxs)("div",{children:[Object(v.jsx)(u.b,{to:"/gui/addProduct",className:"nav-link",children:"Add Product"}),Object(v.jsx)("div",{className:"rootClassname",children:Object(v.jsx)(E.Provider,{value:m,children:Object(v.jsx)(I.c,{columns:j,onRowsChange:function(e,t){!function(e,t){console.log(e[t.indexes].id+" - "+e[t.indexes][t.column.key]),function(e){var t={id:e.id,name:e.name,minRate:e.minRate,maxRate:e.maxRate,imagePath:e.imagePath,description:e.description};console.log(t),C.update(e.id,t).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}(e[t.indexes])}(e,t),c(e)},defaultColumnOptions:{sortable:!0,resizable:!0},className:m.enabled?"filterContainerClassname":void 0,rows:O,sortColumns:s,onSortColumnsChange:l,headerRowHeight:m.enabled?50:void 0})})})]})};function K(e){var t=e.isCellSelected,n=e.column,i=e.children,c=Object(a.useContext)(E),r=function(e){var t=Object(a.useRef)(null);return Object(a.useLayoutEffect)((function(){e&&t.current&&t.current.focus({preventScroll:!0})}),[e]),{ref:t,tabIndex:e?0:-1}}(t),o=r.ref,s=r.tabIndex;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{children:n.name}),c.enabled&&Object(v.jsx)("div",{children:i({ref:o,tabIndex:s,filters:c})})]})}var G=new(function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"getAll",value:function(e){return p.get("/sellerProducts",{params:e})}},{key:"get",value:function(e){return p.get("/sellerProducts/".concat(e))}},{key:"create",value:function(e){return p.post("/sellerProducts",e)}},{key:"update",value:function(e,t){return p.put("/sellerProducts/".concat(e),t)}},{key:"delete",value:function(e){return p.delete("/sellerProducts/".concat(e))}},{key:"deleteAll",value:function(){return p.delete("/sellerProducts")}}]),e}()),V=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).onChangeName=a.onChangeName.bind(Object(j.a)(a)),a.onChangeDescription=a.onChangeDescription.bind(Object(j.a)(a)),a.onChangeImagePath=a.onChangeImagePath.bind(Object(j.a)(a)),a.onChangeBrand=a.onChangeBrand.bind(Object(j.a)(a)),a.onChangeCompany=a.onChangeCompany.bind(Object(j.a)(a)),a.onChangeMrp=a.onChangeMrp.bind(Object(j.a)(a)),a.onChangeWeight=a.onChangeWeight.bind(Object(j.a)(a)),a.onChangeUnit=a.onChangeUnit.bind(Object(j.a)(a)),a.onChangeMeasurment=a.onChangeMeasurment.bind(Object(j.a)(a)),a.onChangeQuantity=a.onChangeQuantity.bind(Object(j.a)(a)),a.onChangeRate=a.onChangeRate.bind(Object(j.a)(a)),a.onChangeDiscount=a.onChangeDiscount.bind(Object(j.a)(a)),a.onChangeDiscountType=a.onChangeDiscountType.bind(Object(j.a)(a)),a.onChangeDeliveryCharge=a.onChangeDeliveryCharge.bind(Object(j.a)(a)),a.saveTutorial=a.saveTutorial.bind(Object(j.a)(a)),a.newTutorial=a.newTutorial.bind(Object(j.a)(a)),a.onChangeproduct=a.onChangeproduct.bind(Object(j.a)(a)),a.getproduct=a.getproduct.bind(Object(j.a)(a)),a.selectFile=a.selectFile.bind(Object(j.a)(a)),a.myRef=i.a.createRef(),a.myRefUnit=i.a.createRef();b()();return a.state={id:null,name:"",description:"",imagePath:"",brand:"",company:"",mrp:"",weight:"",unit:"",measurment:"",quantity:"",rate:"",discount:"",discountType:"",deliveryCharge:"",products:[],productId:"",submitted:!1,message:"",selectedFiles:void 0,uploadDisable:!1,displayImagePath:""},a}return Object(s.a)(n,[{key:"onChangeType",value:function(e){this.setState({type:e.target.value})}},{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"onChangeImagePath",value:function(e){this.setState({imagePath:e.target.value,selectedFiles:void 0,uploadDisable:!0})}},{key:"selectFile",value:function(e){this.setState({selectedFiles:e.target.files,imagePath:e.target.files[0].name})}},{key:"onChangeBrand",value:function(e){e.target.value.length<11&&this.setState({brand:e.target.value})}},{key:"onChangeCompany",value:function(e){this.setState({company:e.target.value})}},{key:"onChangeMrp",value:function(e){this.setState({mrp:e.target.value})}},{key:"onChangeWeight",value:function(e){this.setState({weight:e.target.value})}},{key:"onChangeUnit",value:function(e){this.setState({unit:e.target.value})}},{key:"onChangeMeasurment",value:function(e){this.setState({measurment:e.target.value})}},{key:"onChangeQuantity",value:function(e){this.setState({quantity:e.target.value})}},{key:"onChangeRate",value:function(e){this.setState({rate:e.target.value})}},{key:"onChangeDiscount",value:function(e){this.setState({discount:e.target.value})}},{key:"onChangeDiscountType",value:function(e){this.setState({discountType:e.target.value})}},{key:"onChangeDeliveryCharge",value:function(e){this.setState({deliveryCharge:e.target.value})}},{key:"onChangeproduct",value:function(e){var t=this;this.setState({productId:e.target.value}),console.log(e.target.value),this.state.products.map((function(n){e.target.value==n.id&&t.setState({description:n.description,displayImagePath:n.imagePath})}))}},{key:"onChangeActive",value:function(e){this.setState({active:e.target.checked})}},{key:"upload",value:function(e){var t=this,n=this.state.selectedFiles[0];this.setState({currentFile:n}),k.upload(n,"SP_"+e).then((function(e){t.setState({message:e.data.message})})).catch((function(){t.setState({message:"Could not upload the file!",currentFile:void 0})})),this.setState({selectedFiles:void 0})}},{key:"saveTutorial",value:function(e){var t=this;e.target.disabled=!0;var n={name:this.state.name,description:this.state.description,imagePath:this.state.imagePath,brand:this.state.brand,company:this.state.company,mrp:this.state.mrp,weight:this.state.weight,unit:this.state.unit,measurment:this.state.measurment,quantity:this.state.quantity,rate:this.state.rate,discount:this.state.discount,discountType:this.state.discountType,deliveryCharge:this.state.deliveryCharge,active:this.state.active,productId:this.state.productId};console.log(n),this.setState({submitted:!0}),G.create(n).then((function(n){t.setState({id:n.data.id,name:n.data.name,description:n.data.description,imagePath:n.data.imagePath,brand:n.data.brand,company:n.data.company,mrp:n.data.mrp,weight:n.data.weight,unit:n.data.unit,measurment:n.data.measurment,quantity:n.data.quantity,rate:n.data.rate,discount:n.data.discount,discountType:n.data.discountType,deliveryCharge:n.data.deliveryCharge,active:n.data.active,productId:n.data.productId,submitted:!0}),t.state.selectedFiles&&t.upload(n.data.id),e.target.disabled=!1,console.log(n.data)})).catch((function(e){console.log(e)}))}},{key:"newTutorial",value:function(){this.setState({id:null,name:"",description:"",imagePath:"",brand:"",company:"",mrp:"",weight:"",unit:"",measurment:"",quantity:"",rate:"",discount:"",discountType:"",deliveryCharge:"",productId:"",submitted:!1})}},{key:"componentDidMount",value:function(){this.getproduct()}},{key:"getproduct",value:function(){var e=this;C.getAll().then((function(t){e.setState({products:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.products,n=e.message;return Object(v.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"You submitted successfully!"}),n,Object(v.jsx)("button",{className:"btn btn-success",onClick:this.newTutorial,children:"Add"})]}):Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"productId",children:"Product Name"}),Object(v.jsx)("div",{className:"select-container",children:Object(v.jsxs)("select",{className:"form-control",value:this.state.productId,onChange:this.onChangeproduct,ref:this.myRef,name:"productId",children:[Object(v.jsx)("option",{value:"",children:"Select Product"}),t&&t.map((function(e){return Object(v.jsx)("option",{value:e.id,children:e.name})}))]})})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"description",children:"Description"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"description",required:!0,value:this.state.description,onChange:this.onChangeDescription,name:"description"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"imagePath",children:"Imagepath"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"imagePath",required:!0,value:this.state.imagePath,onChange:this.onChangeImagePath,name:"imagePath"}),Object(v.jsx)("img",{alt:"",height:60,width:80,src:this.state.displayImagePath.startsWith("http")?this.state.displayImagePath:f+"static/images/P_"+this.state.productId+"_"+this.state.displayImagePath}),Object(v.jsx)("label",{className:"btn btn-default",children:Object(v.jsx)("input",{disabled:this.state.uploadDisable,type:"file",onChange:this.selectFile})})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"brand",children:"Brand"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"brand",required:!0,value:this.state.brand,onChange:this.onChangeBrand,name:"brand"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"company",children:"Company Name"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"company",required:!0,value:this.state.company,onChange:this.onChangeCompany,name:"company"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"mrp",children:"MRP"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"mrp",required:!0,value:this.state.mrp,onChange:this.onChangeMrp,name:"mrp"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"weight",children:"Weight"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"weight",required:!0,value:this.state.weight,onChange:this.onChangeWeight,name:"weight"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"unit",children:"Unit"}),Object(v.jsx)("div",{className:"select-container",children:Object(v.jsxs)("select",{className:"form-control",value:this.state.unit,onChange:this.onChangeUnit,ref:this.myRefUnit,name:"unit",children:[Object(v.jsx)("option",{value:"killogram",children:"Kg"}),Object(v.jsx)("option",{value:"gram",children:"grm"}),Object(v.jsx)("option",{value:"litre",children:"litre"})]})})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"measurment",children:"Measurment"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"measurment",required:!0,value:this.state.measurment,onChange:this.onChangeMeasurment,name:"measurment"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"quantity",children:"Quantity"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"quantity",required:!0,value:this.state.quantity,onChange:this.onChangeQuantity,name:"quantity"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"rate",children:"Product Rate"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"rate",required:!0,value:this.state.rate,onChange:this.onChangeRate,name:"rate"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"discount",children:"Discount "}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"discount",required:!0,value:this.state.discount,onChange:this.onChangeDiscount,name:"discount"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"discountType",children:"DiscountType "}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"discountType",required:!0,value:this.state.discountType,onChange:this.onChangeDiscountType,name:"discountType"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"deliveryCharge",children:"DeliveryCharge "}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"deliveryCharge",required:!0,value:this.state.deliveryCharge,onChange:this.onChangeDeliveryCharge,name:"deliveryCharge"})]}),Object(v.jsx)("button",{onClick:this.saveTutorial,className:"btn btn-success",children:"Submit"})]})})}}]),n}(a.Component),H=["filters"],J=Object(a.createContext)(void 0);function $(e){["ArrowLeft","ArrowRight"].includes(e.key)&&e.stopPropagation()}function X(e){switch(e){case"name":case"description":case"brand":case"company":case"measurment":case"discountType":return function(t,n){return t[e].localeCompare(n[e])};default:return function(t,n){return t[e]-n[e]}}}var Z=function(e){var t=Object(a.useState)([]),n=Object(w.a)(t,2),i=n[0],c=n[1],r=Object(a.useState)([]),o=Object(w.a)(r,2),s=o[0],l=o[1],d=Object(a.useState)({name:"",enabled:!0}),h=Object(w.a)(d,2),m=h[0],b=h[1],j=[{key:"id",name:"ID",width:40,resizable:!0,headerCellClass:"filter-cell",headerRenderer:function(e){return Object(v.jsx)(ee,Object(N.a)(Object(N.a)({},e),{},{children:function(e){var t=e.filters,n=Object(S.a)(e,H);return Object(v.jsx)("input",Object(N.a)(Object(N.a)({},n),{},{className:"filterClassname",value:t.name,onChange:function(e){return b(Object(N.a)(Object(N.a)({},t),{},{name:e.target.value}))},onKeyDown:$}))}}))}},{key:"name",name:"Name",editor:I.b,editorOptions:{editOnClick:!0},resizable:!0},{key:"description",name:"Description",editor:I.b,editorOptions:{editOnClick:!0},resizable:!0},{key:"imagePath",name:"Imagepath",editor:I.b,editorOptions:{editOnClick:!0},resizable:!0},{key:"brand",name:"Brand",editor:I.b,editorOptions:{editOnClick:!0},resizable:!0},{key:"company",name:"Company",editor:I.b,editorOptions:{editOnClick:!0},resizable:!0},{key:"mrp",name:"Mrp",editor:z,editorOptions:{editOnClick:!0},resizable:!0},{key:"weight",name:"Weight",editor:z,editorOptions:{editOnClick:!0},resizable:!0},{key:"unit",name:"Unit",editor:z,editorOptions:{editOnClick:!0},resizable:!0},{key:"measurment",name:"Measurment",editor:z,editorOptions:{editOnClick:!0},resizable:!0},{key:"quantity",name:"Quantity",editor:z,editorOptions:{editOnClick:!0},resizable:!0},{key:"rate",name:"Rate",editor:z,editorOptions:{editOnClick:!0},resizable:!0},{key:"discount",name:"Discount",editor:z,editorOptions:{editOnClick:!0},resizable:!0},{key:"discountType",name:"DiscountType",editor:z,editorOptions:{editOnClick:!0},resizable:!0},{key:"deliveryCharge",name:"DeliveryCharge",editor:z,editorOptions:{editOnClick:!0},resizable:!0},{key:"image",name:"Image",width:80,resizable:!0,formatter:function(e){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("img",{src:e.row.imagePath?e.row.imagePath.startsWith("http")?e.row.imagePath:f+"static/images/SP_"+e.row.id+"_"+e.row.imagePath:f+"static/images/P_"+e.row.productId+"_"+e.row.productImage})})}}];Object(a.useEffect)((function(){var e=null;G.getAll({_sort:"routeId",_order:"asc"}).then((function(t){var n=t.data;e=new Array(n.length),n&&n.map((function(t,n){e[n]={},e[n].id=t.id,e[n].name=t.name,e[n].description=t.description,e[n].imagePath=t.imagePath,e[n].brand=t.brand,e[n].company=t.company,e[n].mrp=t.mrp,e[n].weight=t.weight,e[n].unit=t.unit,e[n].measurment=t.measurment,e[n].quantity=t.quantity,e[n].rate=t.rate,e[n].discount=t.discount,e[n].discountType=t.discountType,e[n].deliveryCharge=t.deliveryCharge,e[n].productImage=t.product.imagePath,e[n].productId=t.product.id,e[n].name=t.product.name})),c(e)})).catch((function(e){console.log(e)}))}),[]);var O=Object(a.useMemo)((function(){return function(){var e=null;return e=i.filter((function(e){return!m.name||e.name.includes(m.name)})),0===s.length?e:e=Object(M.a)(e).sort((function(e,t){var n,a=Object(Y.a)(s);try{for(a.s();!(n=a.n()).done;){var i=n.value,c=X(i.columnKey)(e,t);if(0!==c)return"ASC"===i.direction?c:-c}}catch(r){a.e(r)}finally{a.f()}return 0}))}()}),[i,m,s]);return Object(v.jsxs)("div",{children:[Object(v.jsx)(u.b,{to:"/gui/sellerProduct",className:"nav-link",children:"Add Seller Product"}),Object(v.jsx)("div",{className:"rootClassname",children:Object(v.jsx)(J.Provider,{value:m,children:Object(v.jsx)(I.c,{columns:j,onRowsChange:function(e,t){!function(e,t){console.log(e[t.indexes].id+" - "+e[t.indexes][t.column.key]),function(e){var t={id:e.id,name:e.name,description:e.description,imagePath:e.imagePath,brand:e.brand,company:e.company,mrp:e.mrp,weight:e.weight,unit:e.unit,measurment:e.measurment,quantity:e.quantity,rate:e.rate,discount:e.discount,discountType:e.discountType,deliveryCharge:e.deliveryCharge};console.log(t),G.update(e.id,t).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}(e[t.indexes])}(e,t),c(e)},defaultColumnOptions:{sortable:!0,resizable:!0},className:m.enabled?"filterContainerClassname":void 0,rows:O,sortColumns:s,onSortColumnsChange:l,headerRowHeight:m.enabled?50:void 0})})})]})};function ee(e){var t=e.isCellSelected,n=e.column,i=e.children,c=Object(a.useContext)(J),r=function(e){var t=Object(a.useRef)(null);return Object(a.useLayoutEffect)((function(){e&&t.current&&t.current.focus({preventScroll:!0})}),[e]),{ref:t,tabIndex:e?0:-1}}(t),o=r.ref,s=r.tabIndex;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{children:n.name}),c.enabled&&Object(v.jsx)("div",{children:i({ref:o,tabIndex:s,filters:c})})]})}var te=n(14),ne=n(177),ae=n(182),ie=n(186),ce=n(185),re=n(181),oe=n(183),se=n(184),le=n(174),de=n(173),ue=n(180),he=n(178),me=n(179),be=n(171),je=new(function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"getAll",value:function(e){return p.get("/bills",{params:e})}},{key:"generateBillsCollection",value:function(e){return p.get("/generateBillsCollection",{params:e})}},{key:"validateCollectionBillsGeneration",value:function(e,t){return p.get("/generateBillsCollection/".concat(e),{params:t})}},{key:"generateBills",value:function(e){return p.get("/generateBills",{params:e})}},{key:"validateBillGeneration",value:function(e,t){return p.get("/generateBills/".concat(e,"/").concat(t))}},{key:"get",value:function(e){return p.get("/bills/".concat(e))}},{key:"create",value:function(e){return p.post("/bills",e)}},{key:"update",value:function(e,t){return p.put("/bills/".concat(e),t)}},{key:"delete",value:function(e){return p.delete("/bills/".concat(e))}},{key:"deleteAll",value:function(){return p.delete("/bills")}}]),e}()),Oe=new(function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"getAll",value:function(e){return p.get("/payments",{params:e})}},{key:"get",value:function(e){return p.get("/payments/".concat(e))}},{key:"create",value:function(e){return p.post("/payments",e)}},{key:"update",value:function(e,t){return p.put("/payments/".concat(e),t)}},{key:"delete",value:function(e){return p.delete("/payments/".concat(e))}},{key:"deleteAll",value:function(){return p.delete("/payments")}}]),e}()),fe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.getCustomerBill=a.getCustomerBill.bind(Object(j.a)(a)),a.savePayment=a.savePayment.bind(Object(j.a)(a)),a.saveMobNo=a.saveMobNo.bind(Object(j.a)(a)),a.onChangePayment=a.onChangePayment.bind(Object(j.a)(a)),a.onChangeMobNo=a.onChangeMobNo.bind(Object(j.a)(a)),a.handleClickOpen=a.handleClickOpen.bind(Object(j.a)(a)),a.handleClose=a.handleClose.bind(Object(j.a)(a)),a.getPayment=a.getPayment.bind(Object(j.a)(a)),a.getBill=a.getBill.bind(Object(j.a)(a)),a.state={partyId:e.partyId,payment:null,prevBill:{},currentBill:{},open:!1,mobNo:null},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.getCustomerBill(this.props)}},{key:"onChangePayment",value:function(e){this.setState({payment:+e.target.value})}},{key:"onChangeMobNo",value:function(e){e.target.value.length<11&&this.setState({mobNo:+e.target.value})}},{key:"saveMobNo",value:function(e){if(e.target.disabled=!0,this.state.mobNo){var t={id:this.props.partyId};g.updateMobNo(this.props.partyId,this.state.mobNo,t).then((function(t){console.log(t.data),e.target.disabled=!1})).catch((function(e){console.log(e)}))}}},{key:"savePayment",value:function(e){var t=this;if(e.target.disabled=!0,this.state.payment){var n={partyId:this.props.partyId,month:b()(this.props.date,"DD-MMM-YYYY").format("MMM-YYYY"),date:b()(this.props.date,"DD-MMM-YYYY").format("DD"),active:!0,payment:this.state.payment,type:"income"};Oe.create(n).then((function(n){t.setState({currentBill:{quantity:t.state.currentBill.quantity,rate:t.state.currentBill.rate,bill:t.state.currentBill.bill,dues:t.state.currentBill.dues,month:b()(t.props.date,"DD-MMM-YYYY").format("MMM-YYYY"),payment:(t.state.currentBill.payment?t.state.currentBill.payment:0)+n.data.payment}}),console.log(n.data),e.target.disabled=!1,t.handleClickOpen(),t.state.payment=""})).catch((function(e){console.log(e)}))}}},{key:"getCustomerBill",value:function(e){var t=b()(e.date,"DD-MMM-YYYY"),n=t.format("MMM-YYYY"),a={month:n};this.getPayment(n,e.partyId,a),this.getBill(n,e.partyId,"currentBill",a);var i=t.clone().subtract(1,"months").format("MMM-YYYY"),c={month:i};this.getPayment(i,e.partyId,c),this.getBill(i,e.partyId,"prevBill",c)}},{key:"getBill",value:function(e,t,n,a){var i=this,c={partyId:t,month:e,active:!0,type:"income"};je.getAll(c).then((function(e){var t=e.data;t&&t.map((function(e){a.quantity=e.quantity,a.rate=e.rate,a.bill=e.bill,a.dues=e.dues})),i.setState(Object(q.a)({},n,a)),console.log(i.state)})).catch((function(e){console.log(e)}))}},{key:"getPayment",value:function(e,t,n){var a={partyId:t,month:e,active:!0,type:"income"};Oe.getAll(a).then((function(e){var t=e.data;t&&t.map((function(e){"discount"==e.category?n.discount=e.payment:n.payment?n.payment=n.payment+e.payment:n.payment=+e.payment}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.prevBill,n=e.currentBill;return this.props.partyId!=this.state.partyId&&(this.getCustomerBill(this.props),this.setState({partyId:this.props.partyId})),Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{align:"center",children:this.props.name}),Object(v.jsxs)(B.a,{container:!0,spacing:{xs:4},children:[Object(v.jsxs)(B.a,{item:!0,xs:12,sm:6,children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"date",children:" Date"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"date",required:!0,readOnly:"readOnly",value:this.props.date,onChange:this.props.onDate,name:"date"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"amount",children:"Amount"}),Object(v.jsx)("input",{type:"number",className:"form-control",id:"amount",required:!0,value:this.props.amount,onChange:this.props.onAmount,name:"amount"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"defaultQuantity",children:"Quantity"}),Object(v.jsx)("input",{type:"number",className:"form-control",id:"defaultQuantity",required:!0,value:this.props.defaultQuantity,onChange:this.props.onQuantity,name:"defaultQuantity"})]}),Object(v.jsx)("div",{className:"form-group",style:{textAlign:"center"},children:Object(v.jsx)("button",{className:"btn btn-success",onClick:this.props.onUpdate,children:"Update & Next"})}),Object(v.jsxs)("div",{className:"form-group",style:{textAlign:"center"},children:[Object(v.jsx)("button",{className:"btn btn-success",onClick:this.props.onModalClose,children:"Back"})," ",Object(v.jsxs)("button",{className:"btn btn-success",onClick:this.props.onPrev,children:["\u2b05",this.props.previousTitle," "]})," ",Object(v.jsxs)("button",{className:"btn btn-success",onClick:this.props.onNext,children:[this.props.nextTitle," ","\u27a1"]})]})]}),Object(v.jsxs)(B.a,{item:!0,xs:12,sm:6,children:[Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)(re.a,{component:ne.a,children:Object(v.jsxs)(ae.a,{sx:{minWidth:200},"aria-label":"simple table",children:[Object(v.jsx)(oe.a,{children:Object(v.jsxs)(se.a,{children:[Object(v.jsx)(ce.a,{children:"Billing"}),Object(v.jsxs)(ce.a,{align:"right",children:["Prev Month (",t.month,")"]}),Object(v.jsxs)(ce.a,{align:"right",children:["Current Month (",n.month,")"]})]})}),Object(v.jsxs)(ie.a,{children:[Object(v.jsxs)(se.a,{children:[Object(v.jsx)(ce.a,{component:"th",scope:"row",children:"Quantity"}),Object(v.jsx)(ce.a,{align:"right",children:t.quantity}),Object(v.jsx)(ce.a,{align:"right",children:n.quantity})]}),Object(v.jsxs)(se.a,{children:[Object(v.jsx)(ce.a,{component:"th",scope:"row",children:"Rate"}),Object(v.jsx)(ce.a,{align:"right",children:t.rate}),Object(v.jsx)(ce.a,{align:"right",children:n.rate})]}),Object(v.jsxs)(se.a,{children:[Object(v.jsx)(ce.a,{component:"th",scope:"row",children:"Bill"}),Object(v.jsx)(ce.a,{align:"right",children:t.bill}),Object(v.jsx)(ce.a,{align:"right",children:n.bill})]}),Object(v.jsxs)(se.a,{children:[Object(v.jsx)(ce.a,{component:"th",scope:"row",children:"Payment"}),Object(v.jsx)(ce.a,{align:"right",children:t.payment}),Object(v.jsx)(ce.a,{align:"right",children:n.payment})]}),Object(v.jsxs)(se.a,{children:[Object(v.jsx)(ce.a,{component:"th",scope:"row",children:"Dues"}),Object(v.jsx)(ce.a,{align:"right",children:t.dues}),Object(v.jsx)(ce.a,{align:"right",children:n.dues})]})]})]})})}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"payment",children:"Payment"}),Object(v.jsx)("input",{className:"form-control",id:"payment",required:!0,value:this.state.payment,onChange:this.onChangePayment,name:"payment",type:"number"})]}),Object(v.jsx)("button",{className:"btn btn-success",onClick:this.savePayment,children:"Payment Received"}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"mobNo",children:"MobileNo"}),Object(v.jsx)("input",{className:"form-control",id:"mobNo",required:!0,value:this.state.mobNo,onChange:this.onChangeMobNo,name:"mobNo",type:"number"})]}),Object(v.jsx)("button",{className:"btn btn-success",onClick:this.saveMobNo,children:"Set Mob No"})]})]}),Object(v.jsxs)(de.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(v.jsx)(be.a,{id:"alert-dialog-title",children:"Payments"}),Object(v.jsx)(he.a,{children:Object(v.jsxs)(me.a,{id:"alert-dialog-description",children:["Payment of amount ",this.state.payment," is confirmed."]})}),Object(v.jsx)(ue.a,{children:Object(v.jsx)(le.a,{onClick:this.handleClose,children:"Close"})})]})]})}}]),n}(i.a.Component),pe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleModalOpen=function(e){a.setState({activeProject:e,modalTitle:a.state.projects[e].name,quantity:a.state.projects[e].defaultQuantity,amount:a.state.projects[e].amount,date:a.state.date,partyId:a.state.projects[e].id})},a.handleModalClose=function(){a.setState({activeProject:""})},a.handleNextProject=function(){var e=a.state.projects.length,t=(t=a.state.activeProject+1)%e;a.setState({activeProject:t,modalTitle:a.state.projects[t].name,quantity:a.state.projects[t].defaultQuantity,amount:a.state.projects[t].amount,date:a.state.date,partyId:a.state.projects[t].id})},a.handlePrevProject=function(){var e=a.state.projects.length;if(0===(t=a.state.activeProject))var t=e-1;else t=t-1;a.setState({activeProject:t,modalTitle:a.state.projects[t].name,quantity:a.state.projects[t].defaultQuantity,amount:a.state.projects[t].amount,date:a.state.date,partyId:a.state.projects[t].id})},a.handleModalUpdate=function(e){e.target.disabled=!0,a.saveDelivery(a.state.partyId,a.state.date,a.state.quantity,a.state.amount,e)},a.getProjects=a.getProjects.bind(Object(j.a)(a)),a.saveDelivery=a.saveDelivery.bind(Object(j.a)(a)),a.onChangeDate=a.onChangeDate.bind(Object(j.a)(a)),a.handleNextProject=a.handleNextProject.bind(Object(j.a)(a)),a.onChangeDefaultQuantity=a.onChangeDefaultQuantity.bind(Object(j.a)(a)),a.onChangeAmount=a.onChangeAmount.bind(Object(j.a)(a)),a.state={projects:[],activeProject:"",modalTitle:"",partyId:null,quantity:null,amount:null,date:b()().format("DD-MMM-YYYY")},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.getProjects(this.props.match.params.id,this.props.match.params.pending)}},{key:"getProjects",value:function(e,t){var n=this;if(t){var a={routeId:e,type:"customer",searchFlag:"pending"};g.getAll(a).then((function(e){console.log(e.data),n.setState({projects:e.data})})).catch((function(e){console.log(e)}))}else{var i={routeId:e,type:"customer"};g.getAll(i).then((function(e){console.log(e.data),n.setState({projects:e.data})})).catch((function(e){console.log(e)}))}}},{key:"onChangeDefaultQuantity",value:function(e){this.setState({quantity:e.target.value})}},{key:"onChangeAmount",value:function(e){this.setState({amount:e.target.value})}},{key:"onChangeDate",value:function(e){this.setState({date:e.target.value})}},{key:"saveDelivery",value:function(e,t,n,a,i){var c=this,r=b()(t,"DD-MMM-YYYY"),o={partyId:e,date:r.format("DD"),month:r.format("MMM-YYYY"),quantity:n,amount:a,type:"income"},s={partyId:e,date:o.date,month:o.month,type:"income"};P.getAll(s).then((function(e){e.data&&e.data.length>0?(o.id=e.data[0].id,P.update(o.id,o).then((function(e){console.log(e.data),i.target.disabled=!1,c.handleNextProject()})).catch((function(e){console.log(e)}))):P.create(o).then((function(e){console.log(e.data),i.target.disabled=!1,c.handleNextProject()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})),this.state.date=b()().format("DD-MMM-YYYY")}},{key:"render",value:function(){var e=this,t=this.state.projects;var n,a,i=t&&t.map((function(t,n,a){return Object(v.jsx)(ye,{index:n,name:t.name,url:t.address,onModalOpen:e.handleModalOpen},"project-"+t.id)}));return""===this.state.activeProject?Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:{textAlign:"center"},children:Object(v.jsxs)("h1",{children:["Route - ",t&&t[0]&&t[0].route.name]})}),Object(v.jsx)(B.a,{container:!0,spacing:{xs:1,md:1},columns:{xs:4,sm:8,md:12},children:i})]}):Object(v.jsx)("div",{children:Object(v.jsx)(fe,{name:this.state.modalTitle,defaultQuantity:this.state.quantity,amount:this.state.amount,date:this.state.date,partyId:this.state.partyId,previousTitle:function(e,t){if(0===e)var n=t.length-1;else n=e-1;return t[n].name}(this.state.activeProject,t),nextTitle:(n=this.state.activeProject,a=t,a[(n+1)%a.length].name),onModalClose:this.handleModalClose,onNext:this.handleNextProject,onPrev:this.handlePrevProject,onDate:this.onChangeDate,onQuantity:this.onChangeDefaultQuantity,onAmount:this.onChangeAmount,onUpdate:this.handleModalUpdate})})}}]),n}(a.Component),ge=Object(te.a)(ne.a)((function(e){var t=e.theme;return Object(N.a)(Object(N.a)({},t.typography.body2),{},{padding:t.spacing(2),textAlign:"center",color:t.palette.text.secondary})})),ye=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(v.jsx)(B.a,{item:!0,xs:2,sm:4,md:4,onClick:this.props.onModalOpen.bind(this,this.props.index),children:Object(v.jsx)(ge,{children:Object(v.jsx)("h1",{children:this.props.name})})},this.props.index)}}]),n}(i.a.Component),ve=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).onChangeName=a.onChangeName.bind(Object(j.a)(a)),a.onChangeAddress=a.onChangeAddress.bind(Object(j.a)(a)),a.onChangeStartDate=a.onChangeStartDate.bind(Object(j.a)(a)),a.onChangeActive=a.onChangeActive.bind(Object(j.a)(a)),a.saveTutorial=a.saveTutorial.bind(Object(j.a)(a)),a.newTutorial=a.newTutorial.bind(Object(j.a)(a));var i=new Date;return a.state={id:null,name:"",address:"",active:!0,startDate:i.getDate()+"-"+parseInt(i.getMonth()+1)+"-"+i.getFullYear(),submitted:!1},a}return Object(s.a)(n,[{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeAddress",value:function(e){this.setState({address:e.target.value})}},{key:"onChangeStartDate",value:function(e){this.setState({startDate:e.target.value})}},{key:"onChangeActive",value:function(e){console.log(e.target.checked),this.setState({active:e.target.checked})}},{key:"saveTutorial",value:function(){var e=this,t={name:this.state.name,address:this.state.address,startDate:this.state.startDate,active:this.state.active};console.log(this.state.active),y.create(t).then((function(t){e.setState({id:t.data.id,name:t.data.name,address:t.data.address,active:t.data.active,startDate:t.data.startDate,submitted:!0}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"newTutorial",value:function(){this.today=new Date,this.setState({id:null,name:"",address:"",startDate:this.today.getDate()+"-"+parseInt(this.today.getMonth()+1)+"-"+this.today.getFullYear(),active:!0,submitted:!1})}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"You submitted successfully!"}),Object(v.jsx)("button",{className:"btn btn-success",onClick:this.newTutorial,children:"Add"})]}):Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Route Name"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"name",required:!0,value:this.state.name,onChange:this.onChangeName,name:"name"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"address",children:"Address"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"address",required:!0,value:this.state.address,onChange:this.onChangeAddress,name:"address"})]}),Object(v.jsx)("button",{onClick:this.saveTutorial,className:"btn btn-success",children:"Submit"})]})})}}]),n}(a.Component),xe=new(function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"getAll",value:function(e){return p.get("/rates",{params:e})}},{key:"get",value:function(e){return p.get("/rates/".concat(e))}},{key:"create",value:function(e){return p.post("/rates",e)}},{key:"update",value:function(e,t){return p.put("/rates/".concat(e),t)}},{key:"delete",value:function(e){return p.delete("/rates/".concat(e))}},{key:"deleteAll",value:function(){return p.delete("/rates")}}]),e}());function Ce(e){this.limit=e,this.count=0,this.waitBlock=function(){}}Ce.prototype.countDown=function(){if(this.count=this.count+1,this.limit<=this.count)return this.waitBlock()},Ce.prototype.await=function(e){this.waitBlock=e};var ke=Ce,De=n(36),Ye=["filters"],Me=["filters"],Ne="filter-cell",Se="filterClassname",we=Object(a.createContext)(void 0);function Ie(e){["ArrowLeft","ArrowRight"].includes(e.key)&&e.stopPropagation()}function Pe(e){return"name"===e?function(t,n){return t[e].localeCompare(n[e])}:function(t,n){return t[e]-n[e]}}var Re=function(e){var t=Object(a.useState)({name:"",route:"",enabled:!0}),n=Object(w.a)(t,2),i=n[0],c=n[1],r={currentDate:b()()},o=Object(a.useState)([]),s=Object(w.a)(o,2),l=s[0],d=s[1],h=Object(a.useState)(),m=Object(w.a)(h,2),j=m[0],O=m[1],f=Object(a.useState)({}),p=Object(w.a)(f,2),y=p[0],x=p[1],C=Object(a.useState)(!1),k=Object(w.a)(C,2),D=k[0],R=k[1],q=Object(a.useState)(!1),A=Object(w.a)(q,2),T=A[0],F=A[1],W=Object(a.useState)(r),Q=Object(w.a)(W,2),E=Q[0],L=Q[1],U=Object(a.useState)([]),_=Object(w.a)(U,2),K=_[0],G=_[1],V=[{key:"id",name:"ID",minWidth:60,resizable:!0,frozen:!0,headerCellClass:Ne,headerRenderer:function(e){return Object(v.jsx)(qe,Object(N.a)(Object(N.a)({},e),{},{children:function(e){var t=e.filters,n=Object(S.a)(e,Ye);return Object(v.jsx)("input",Object(N.a)(Object(N.a)({},n),{},{className:Se,value:t.name,onChange:function(e){return c(Object(N.a)(Object(N.a)({},t),{},{name:e.target.value}))},onKeyDown:Ie}))}}))}},{key:"name",name:"Name",width:200,resizable:!0,frozen:!0},{key:"route",name:"Route",minWidth:100,resizable:!0,headerCellClass:Ne,headerRenderer:function(e){return Object(v.jsx)(qe,Object(N.a)(Object(N.a)({},e),{},{children:function(e){var t=e.filters,n=Object(S.a)(e,Me);return Object(v.jsx)("input",Object(N.a)(Object(N.a)({},n),{},{className:Se,value:t.route,onChange:function(e){return c(Object(N.a)(Object(N.a)({},t),{},{route:e.target.value}))},onKeyDown:Ie}))}}))}},{key:"01",name:"1",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"02",name:"2",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"03",name:"3",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"04",name:"4",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"05",name:"5",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"06",name:"6",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"07",name:"7",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"08",name:"8",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"09",name:"9",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"10",name:"10",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"11",name:"11",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"12",name:"12",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"13",name:"13",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"14",name:"14",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"15",name:"15",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"16",name:"16",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"17",name:"17",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"18",name:"18",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"19",name:"19",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"20",name:"20",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"21",name:"21",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"22",name:"22",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"23",name:"23",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"24",name:"24",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"25",name:"25",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"26",name:"26",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"27",name:"27",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"28",name:"28",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"29",name:"29",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"30",name:"30",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"31",name:"31",editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"qty",name:"Qty",minWidth:40,resizable:!0},{key:"rate",name:"Rate",minWidth:40,resizable:!0},{key:"bill",name:"Bill",minWidth:60,resizable:!0},{key:"dues",name:"Dues",minWidth:40,resizable:!0},{key:"totalBill",name:"Total",minWidth:60,resizable:!0},{key:"prevBill",name:"P-Bill",minWidth:75,resizable:!0},{key:"paid",name:"Paid",minWidth:60,resizable:!0},{key:"currentDue",name:"C-Due",minWidth:60,resizable:!0},{key:"discount",name:"Discount",width:80,editor:z,editorOptions:{editOnClick:!0},minWidth:40,resizable:!0},{key:"pay",name:"Pay",minWidth:60,resizable:!0,editor:z,editorOptions:{editOnClick:!0}}];function H(){R(!0)}function J(){F(!1),R(!1)}function $(e){var t={month:e,type:"income"};je.generateBills(t).then((function(t){var n=t.data;n&&n.map((function(e){var t,n=Object(Y.a)(l);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.id==e.partyId){a.qty=e.quantity,a.rate=e.rate,a.bill=e.bill,a.dues=e.dues,a.totalBill=a.bill+(a.dues?a.dues:0);break}}}catch(i){n.e(i)}finally{n.f()}})),O("Bill generated for the month "+e+"."),H(),d(l)})).catch((function(e){console.log(e.response)}))}Object(a.useEffect)((function(){var t={currentDate:b()(e.match.params.date,"MMM-YYYY")};L(t);var n=null,a={active:!0,type:"customer"};xe.getAll(a).then((function(e){var t=e.data,n={};t&&t.map((function(e,t){n={id:e.id,rate:e.rate,startDate:e.startDate}})),x(n)})).catch((function(e){console.log(e)}));var i=new ke(3);g.getAll(a).then((function(e){var a=e.data;n=new Array(a.length),a.map((function(e,t){n[t]={},n[t].id=e.id,n[t].name=e.name,n[t].route=e.route.name})),function(e,t,n){var a={month:e.currentDate.format("MMM-YYYY"),active:!0,type:"income"};je.getAll(a).then((function(a){var i=a.data;i&&i.map((function(e){var n,a=Object(Y.a)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.id==e.partyId){e.rate&&(i.qty=e.quantity,i.rate=e.rate,i.bill=e.bill,i.dues=e.dues,i.totalBill=i.bill+(i.dues?i.dues:0),i.prevBill=e.lastBillTotal,i.currentDue=i.prevBill-(i.paid?i.paid:0));break}}}catch(c){a.e(c)}finally{a.f()}})),n.countDown();var c={month:e.currentDate.clone().subtract(1,"months").format("MMM-YYYY"),active:!0,type:"income"};je.getAll(c).then((function(e){var n=e.data;n&&n.map((function(e){var n,a=Object(Y.a)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.id==e.partyId){e.rate&&(i.prevBill=e.bill+e.dues,i.prevDues=e.dues,i.currentDue=i.prevBill-(i.paid?i.paid:0));break}}}catch(c){a.e(c)}finally{a.f()}}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}(t,n,i),function(e,t,n){var a={month:e.currentDate.format("MMM-YYYY"),active:!0,type:"income"};Oe.getAll(a).then((function(e){var a=e.data;t&&t.map((function(e){a&&a.map((function(t){t.partyId==e.id&&("discount"==t.category?(e.discount=t.payment,e.iddiscount=t.id):e.paid?e.paid=e.paid+t.payment:e.paid=+t.payment)}))})),n.countDown()})).catch((function(e){console.log(e)}))}(t,n,i),function(e,t,n){var a={month:e.currentDate.format("MMM-YYYY"),type:"income"};P.getAll(a).then((function(e){var a=e.data;a&&a.map((function(e){var n,a=Object(Y.a)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.id==e.partyId){i[e.date]=e.quantity,i["id"+e.date]=e.id;break}}}catch(c){a.e(c)}finally{a.f()}})),n.countDown()})).catch((function(e){console.log(e)}))}(t,n,i)})).catch((function(e){console.log(e)})),i.await((function(){d(n),console.log("done all")}))}),[e.match.params.date]);var X=Object(a.useMemo)((function(){return function(){var e=null;return e=l.filter((function(e){return(!i.name||e.name.includes(i.name))&&(!i.route||e.route.includes(i.route))})),0===K.length?e:e=Object(M.a)(e).sort((function(e,t){var n,a=Object(Y.a)(K);try{for(a.s();!(n=a.n()).done;){var i=n.value,c=Pe(i.columnKey)(e,t);if(0!==c)return"ASC"===i.direction?c:-c}}catch(r){a.e(r)}finally{a.f()}return 0}))}()}),[l,i,K]);return Object(v.jsxs)("div",{children:[E?Object(v.jsx)("div",{children:Object(v.jsxs)(B.a,{container:!0,spacing:{xs:1},children:[Object(v.jsxs)(B.a,{item:!0,xs:6,sm:3,children:[Object(v.jsx)(u.b,{to:"/gui/customerCalendar/"+E.currentDate.clone().subtract(1,"months").format("MMM-YYYY"),className:"badge badge-warning",children:"Prev"}),E.currentDate.format("DD-MMM-YYYY"),Object(v.jsx)(u.b,{to:"/gui/customerCalendar/"+E.currentDate.clone().add(1,"months").format("MMM-YYYY"),className:"badge badge-warning",children:"Next"})]}),Object(v.jsx)(B.a,{item:!0,xs:6,sm:3,children:Object(v.jsxs)(u.b,{to:"#",onClick:function(){return e=E.currentDate.format("MMM-YYYY"),void je.validateBillGeneration(e,"income").then((function(t){t.data.rate?(F(!0),O("Bill already generated for the month "+e+". Do you want to continue? Please confirm to proceed."),H()):$(e)})).catch((function(t){console.log(t),404==t.response.status&&$(e)}));var e},className:"badge",children:["Generate Bill Month - ",E.currentDate.format("MMM-YYYY")]})}),Object(v.jsxs)(B.a,{item:!0,xs:6,sm:3,children:[Object(v.jsx)("input",{type:"number",id:"rate",required:!0,defaultValue:y.rate,onChange:function(e){y.rate=e.target.value,x(y)},name:"rate",style:{width:60,height:20}}),Object(v.jsx)(u.b,{to:"#",onClick:function(){var e={id:y.id,rate:y.rate,active:!1,startDate:y.startDate,endDate:E.currentDate.format("DD-MMM-YYYY")};y.id&&xe.update(e.id,e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}));var t={rate:y.rate,active:!0,startDate:E.currentDate.format("DD-MMM-YYYY")};xe.create(t).then((function(e){x(e.data),O("New rate saved."),H()})).catch((function(e){console.log(e)}))},className:"badge",children:"Set Rate"})]}),Object(v.jsx)(B.a,{item:!0,xs:3,sm:2,children:Object(v.jsxs)(u.b,{to:"/gui/bills/"+E.currentDate.format("MMM-YYYY"),className:"badge",children:["Print - ",E.currentDate.format("MMM-YYYY")]})}),Object(v.jsxs)(B.a,{item:!0,xs:3,sm:1,children:["\xa0",Object(v.jsx)(le.a,{variant:"warning",className:"badge",children:Object(v.jsx)(De.CSVLink,{data:X,filename:"income.txt",children:"Export"})})]})]})}):Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),Object(v.jsx)("p",{children:"Please click on a Customer..."})]}),Object(v.jsx)("div",{className:"rootClassname",children:Object(v.jsx)(we.Provider,{value:i,children:Object(v.jsx)(I.c,{columns:V,onRowsChange:function(e,t){!function(e,t){var n=e[t.indexes][t.column.key],a=e[t.indexes]["id"+t.column.key];console.log(e[t.indexes].id+" - "+n+" - "+a),function(e,t,n,a,i,c){var r={id:i,partyId:e,date:t,month:n.format("MMM-YYYY"),quantity:a,type:"income",category:null,active:!0,payment:null};"discount"!=t&&"pay"!=t?i?P.update(i,r).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})):P.create(r).then((function(e){c["id"+t]=e.data.id,console.log(c)})).catch((function(e){console.log(e)})):("discount"==t&&(r.category="discount"),r.payment=a,r.date=b()().format("DD"),i?Oe.update(i,r).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})):Oe.create(r).then((function(e){c["id"+t]=e.data.id,console.log(c)})).catch((function(e){console.log(e)})))}(e[t.indexes].id,t.column.key,E.currentDate,n,a,e[t.indexes]),l[t.indexes]=e[t.indexes],d(l.slice())}(e,t)},defaultColumnOptions:{sortable:!0,resizable:!0},className:i.enabled?"filterContainerClassname":void 0,rows:X,sortColumns:K,onSortColumnsChange:G,headerRowHeight:i.enabled?50:void 0})})}),Object(v.jsxs)(de.a,{open:D,onClose:J,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(v.jsx)(be.a,{id:"alert-dialog-title",children:"Bills"}),Object(v.jsx)(he.a,{children:Object(v.jsx)(me.a,{id:"alert-dialog-description",children:j})}),Object(v.jsxs)(ue.a,{children:[T?Object(v.jsx)(le.a,{onClick:function(){F(!1),$(E.currentDate.format("MMM-YYYY")),R(!1)},children:"Confirm"}):"",Object(v.jsx)(le.a,{onClick:J,children:"Close"})]})]})]})};function qe(e){var t=e.isCellSelected,n=e.column,i=e.children,c=Object(a.useContext)(we),r=function(e){var t=Object(a.useRef)(null);return Object(a.useLayoutEffect)((function(){e&&t.current&&t.current.focus({preventScroll:!0})}),[e]),{ref:t,tabIndex:e?0:-1}}(t),o=r.ref,s=r.tabIndex;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{children:n.name}),c.enabled&&Object(v.jsx)("div",{children:i({ref:o,tabIndex:s,filters:c})})]})}var Ae=["filters"],ze=["filters"],Be="filter-cell",Te="filterClassname",Fe=Object(a.createContext)(void 0);function We(e){["ArrowLeft","ArrowRight"].includes(e.key)&&e.stopPropagation()}function Qe(e){return"name"===e?function(t,n){return t[e].localeCompare(n[e])}:function(t,n){return t[e]-n[e]}}var Ee=function(e){var t=Object(a.useState)({name:"",route:"",enabled:!0}),n=Object(w.a)(t,2),i=n[0],c=n[1],r={currentDate:b()()},o=Object(a.useState)([]),s=Object(w.a)(o,2),l=s[0],d=s[1],u=Object(a.useState)(r),h=Object(w.a)(u,2),m=h[0],j=h[1],O=Object(a.useState)([]),f=Object(w.a)(O,2),p=f[0],y=f[1],x=[{key:"id",name:"ID",minWidth:40,resizable:!0,headerCellClass:Be,headerRenderer:function(e){return Object(v.jsx)(Le,Object(N.a)(Object(N.a)({},e),{},{children:function(e){var t=e.filters,n=Object(S.a)(e,Ae);return Object(v.jsx)("input",Object(N.a)(Object(N.a)({},n),{},{className:Te,value:t.name,onChange:function(e){return c(Object(N.a)(Object(N.a)({},t),{},{name:e.target.value}))},onKeyDown:We}))}}))}},{key:"name",name:"Name",width:200,resizable:!0},{key:"today",name:"Today Quantity",editor:z,editorOptions:{editOnClick:!0},minWidth:80,resizable:!0},{key:"dailyQuantity",name:"Daily Quantity",minWidth:80,resizable:!0},{key:"route",name:"Route",minWidth:100,resizable:!0,headerCellClass:Be,headerRenderer:function(e){return Object(v.jsx)(Le,Object(N.a)(Object(N.a)({},e),{},{children:function(e){var t=e.filters,n=Object(S.a)(e,ze);return Object(v.jsx)("input",Object(N.a)(Object(N.a)({},n),{},{className:Te,value:t.route,onChange:function(e){return c(Object(N.a)(Object(N.a)({},t),{},{route:e.target.value}))},onKeyDown:We}))}}))}},{key:"qty",name:"Qty",minWidth:40,resizable:!0},{key:"rate",name:"Rate",minWidth:40,resizable:!0},{key:"bill",name:"Bill",minWidth:40,resizable:!0},{key:"dues",name:"Dues",minWidth:40,resizable:!0},{key:"totalBill",name:"Total",minWidth:60,resizable:!0},{key:"prevBill",name:"P-Bill",minWidth:75,resizable:!0},{key:"prevDues",name:"P-Dues",minWidth:70,resizable:!0},{key:"paid",name:"Paid",minWidth:60,resizable:!0}];Object(a.useEffect)((function(){var t={currentDate:b()(e.match.params.date,"DD-MMM-YYYY")};j(t);var n=null;g.getAll({active:!0,type:"customer"}).then((function(e){var a=e.data;n=new Array(a.length),a.map((function(e,t){n[t]={},n[t].id=e.id,n[t].name=e.name,n[t].dailyQuantity=e.defaultQuantity,n[t].route=e.route.name})),function(e,t){var n={month:e.currentDate.format("MMM-YYYY"),active:!0,type:"income"};Oe.getAll(n).then((function(e){var n=e.data;t&&t.map((function(e){n&&n.map((function(t){t.partyId==e.id&&("discount"==t.category?(e.discount=t.payment,e.iddiscount=t.id):e.paid?e.paid=e.paid+t.payment:e.paid=+t.payment)}))}))})).catch((function(e){console.log(e)}))}(t,n),function(e,t){var n={date:e.currentDate.format("DD"),month:e.currentDate.format("MMM-YYYY"),type:"income"};P.getAll(n).then((function(e){var n=e.data;n&&n.map((function(e){var n,a=Object(Y.a)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.id==e.partyId){i.today=e.quantity,i.idtoday=e.id;break}}}catch(c){a.e(c)}finally{a.f()}})),console.log(t),d(t)})).catch((function(e){console.log(e)}))}(t,n),function(e,t){var n={month:e.currentDate.format("MMM-YYYY"),active:!0,type:"income"};je.getAll(n).then((function(e){var n=e.data;n&&n.map((function(e){var n,a=Object(Y.a)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.id==e.partyId){e.rate&&(i.qty=e.quantity,i.rate=e.rate,i.bill=e.bill,i.dues=e.dues,i.totalBill=i.bill+(i.dues?i.dues:0));break}}}catch(c){a.e(c)}finally{a.f()}}))})).catch((function(e){console.log(e)}));var a={month:e.currentDate.clone().subtract(1,"months").format("MMM-YYYY"),active:!0,type:"income"};je.getAll(a).then((function(e){var n=e.data;n&&n.map((function(e){var n,a=Object(Y.a)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.id==e.partyId){e.rate&&(i.prevBill=e.bill,i.prevDues=e.dues);break}}}catch(c){a.e(c)}finally{a.f()}}))})).catch((function(e){console.log(e)}))}(t,n)})).catch((function(e){console.log(e)}))}),[e.match.params.date]);var C=Object(a.useMemo)((function(){return function(){var e=null;return e=l.filter((function(e){return(!i.name||e.name.includes(i.name))&&(!i.route||e.route.includes(i.route))})),0===p.length?e:e=Object(M.a)(e).sort((function(e,t){var n,a=Object(Y.a)(p);try{for(a.s();!(n=a.n()).done;){var i=n.value,c=Qe(i.columnKey)(e,t);if(0!==c)return"ASC"===i.direction?c:-c}}catch(r){a.e(r)}finally{a.f()}return 0}))}()}),[l,i,p]);return Object(v.jsxs)("div",{children:[m?Object(v.jsx)("div",{children:Object(v.jsx)(B.a,{container:!0,spacing:{xs:1},children:Object(v.jsxs)(B.a,{item:!0,xs:3,sm:1,children:["\xa0",Object(v.jsx)(le.a,{variant:"warning",className:"badge",children:Object(v.jsx)(De.CSVLink,{data:C,filename:"dailyIncome.txt",children:"Export"})})]})})}):Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),Object(v.jsx)("p",{children:"Please click on a Customer..."})]}),Object(v.jsx)("div",{className:"rootClassname",children:Object(v.jsx)(Fe.Provider,{value:i,children:Object(v.jsx)(I.c,{columns:x,onRowsChange:function(e,t){!function(e,t){var n=e[t.indexes][t.column.key],a=e[t.indexes].idtoday;console.log(e[t.indexes].id+" - "+n+" - "+a+" - "+t.column.key),function(e,t,n,a,i,c){var r={id:i,partyId:e,date:t.format("DD"),month:n.format("MMM-YYYY"),quantity:a,type:"income"};i?P.update(i,r).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})):P.create(r).then((function(e){c.idtoday=e.data.id,console.log(c)})).catch((function(e){console.log(e)}))}(e[t.indexes].id,m.currentDate,m.currentDate,n,a,e[t.indexes]),l[t.indexes]=e[t.indexes],d(l.slice())}(e,t)},defaultColumnOptions:{sortable:!0,resizable:!0},className:i.enabled?"filterContainerClassname":void 0,rows:C,sortColumns:p,onSortColumnsChange:y,headerRowHeight:i.enabled?50:void 0})})})]})};function Le(e){var t=e.isCellSelected,n=e.column,i=e.children,c=Object(a.useContext)(Fe),r=function(e){var t=Object(a.useRef)(null);return Object(a.useLayoutEffect)((function(){e&&t.current&&t.current.focus({preventScroll:!0})}),[e]),{ref:t,tabIndex:e?0:-1}}(t),o=r.ref,s=r.tabIndex;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{children:n.name}),c.enabled&&Object(v.jsx)("div",{children:i({ref:o,tabIndex:s,filters:c})})]})}var Ue=["filters"],_e=Object(a.createContext)(void 0);function Ke(e){["ArrowLeft","ArrowRight"].includes(e.key)&&e.stopPropagation()}function Ge(e){return"name"===e?function(t,n){return t[e].localeCompare(n[e])}:function(t,n){return t[e]-n[e]}}var Ve=function(e){var t=Object(a.useState)({enabled:!0}),n=Object(w.a)(t,2),i=n[0],c=n[1],r={currentDate:b()()},o=Object(a.useState)([]),s=Object(w.a)(o,2),l=s[0],d=s[1],h=Object(a.useState)(r),m=Object(w.a)(h,2),j=m[0],O=m[1],f=Object(a.useState)([]),p=Object(w.a)(f,2),g=p[0],y=p[1],x=Object(a.useState)(),C=Object(w.a)(x,2),k=C[0],D=C[1],R=Object(a.useState)(),q=Object(w.a)(R,2),A=q[0],z=q[1],T=Object(a.useState)(!1),F=Object(w.a)(T,2),W=F[0],Q=F[1],E=Object(a.useState)(!1),L=Object(w.a)(E,2),U=L[0],_=L[1],K=Object(a.useState)(),G=Object(w.a)(K,2),V=G[0],H=G[1],J=[{key:"print",name:"PRINT",width:70,resizable:!0,formatter:function(e){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(u.b,{disable:"true",to:"/gui/collectionBills/"+b()(e.row.from,"YYYY-MMM-DD").format("YYYY-MM-DD")+"/"+b()(e.row.to,"YYYY-MMM-DD").format("YYYY-MM-DD")+"/"+e.row.partyId,className:"badge badge-warning",children:"Print"})})}},{key:"id",name:"ID",width:50,resizable:!0,headerCellClass:"filter-cell",headerRenderer:function(e){return Object(v.jsx)(He,Object(N.a)(Object(N.a)({},e),{},{children:function(e){var t=e.filters,n=Object(S.a)(e,Ue);return Object(v.jsx)("input",Object(N.a)(Object(N.a)({},n),{},{className:"filterClassname",value:t.name,onChange:function(e){return c(Object(N.a)(Object(N.a)({},t),{},{name:e.target.value}))},onKeyDown:Ke}))}}))}},{key:"name",name:"Name",resizable:!0},{key:"from",name:"FROM",resizable:!0},{key:"to",name:"TO",resizable:!0},{key:"qty",name:"Quantity",resizable:!0},{key:"bill",name:"Total",resizable:!0}];function $(){var t={currentDate:b()(e.match.params.date,"DD-MMM-YYYY")};O(t);var n=null;je.getAll({active:!0,type:"expense",category:"collection"}).then((function(e){var a=e.data;console.log(a),n=new Array(a.length),a&&a.map((function(e,t){n[t]={},n[t].id=e.id,n[t].name=e.party,n[t].qty=e.quantity,n[t].rate=e.rate,n[t].from=e.from,n[t].to=e.to,n[t].bill=e.bill,n[t].partyId=e.partyId})),function(e,t){var n={active:!0,type:"expense",category:"collection"};je.getAll(n).then((function(n){var a=n.data;console.log(a),a&&a.map((function(e){var n,a=Object(Y.a)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.id==e.partyId){e.from&&(i.qty=e.quantity,i.rate=e.rate,i.bill=e.bill,i.from=e.from,i.to=e.to);break}}}catch(c){a.e(c)}finally{a.f()}})),function(e,t){var n={date:e.currentDate.format("DD"),type:"expence"};P.getAll(n).then((function(e){var n=e.data;n&&n.map((function(e){var n,a=Object(Y.a)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.id==e.partyId){i.today=e.quantity,i.idtoday=e.id;break}}}catch(c){a.e(c)}finally{a.f()}})),console.log(t),d(t)})).catch((function(e){console.log(e)}))}(e,t)})).catch((function(e){console.log(e)}))}(t,n)})).catch((function(e){console.log(e)}))}function X(){_(!0)}function Z(){Q(!1),_(!1)}function ee(){var e={type:"expense",from:k,to:A,category:"collection"};je.generateBillsCollection(e).then((function(e){var t=e.data;t&&t.map((function(e){var t,n=Object(Y.a)(l);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.id==e.partyId){a.qty=e.quantity,a.rate=e.rate,a.bill=e.bill;break}}}catch(i){n.e(i)}finally{n.f()}})),$(),H("Bill generated for the period ."),X(),console.log(l),d(l)})).catch((function(e){404==e.response.status&&(H("Bill could not be generated for the period as there are overlapping bills."),Q(!1),X())}))}Object(a.useEffect)((function(){$()}),[e.match.params.date]);var te=Object(a.useMemo)((function(){return function(){var e=null;return e=l.filter((function(e){return!i.name||e.name.includes(i.name)})),0===g.length?e:e=Object(M.a)(e).sort((function(e,t){var n,a=Object(Y.a)(g);try{for(a.s();!(n=a.n()).done;){var i=n.value,c=Ge(i.columnKey)(e,t);if(0!==c)return"ASC"===i.direction?c:-c}}catch(r){a.e(r)}finally{a.f()}return 0}))}()}),[l,i,g]);return Object(v.jsxs)("div",{children:[j?Object(v.jsx)("div",{children:Object(v.jsxs)(B.a,{container:!0,spacing:{xs:1},children:[Object(v.jsxs)(B.a,{item:!0,xs:3,sm:1,children:["\xa0",Object(v.jsx)(le.a,{variant:"warning",className:"badge",children:Object(v.jsx)(De.CSVLink,{data:te,filename:"dailyIncome.txt",children:"Export"})})]}),Object(v.jsx)(B.a,{item:!0,xs:3,sm:2,children:Object(v.jsx)(u.b,{to:k&&A?"/gui/collectionBills/"+k+"/"+A:"",hidden:!k||!A,className:"badge",children:"Print Collection"})}),Object(v.jsx)(B.a,{item:!0,xs:6,sm:3,children:Object(v.jsx)(u.b,{to:"#",onClick:k&&A?function(){return function(){var e={type:"expense",from:k,to:A};je.validateCollectionBillsGeneration("expense",e).then((function(e){console.log(e.data),e.data.from?(Q(!0),H("Bill already generated for the period. Do you want to continue? Please confirm to proceed."),X()):ee()})).catch((function(e){console.log(e),404==e.response.status&&ee()}))}(j.currentDate.format("DD-MM-YYYY"))}:"",className:"badge",children:"Generate Collection Bill"})}),Object(v.jsxs)(B.a,{item:!0,xs:6,sm:6,children:[Object(v.jsx)("input",{type:"date",id:"from",required:!0,onChange:function(e){D(e.target.value)},name:"from",style:{width:150,height:20},placeholder:"From"}),Object(v.jsx)("input",{type:"date",id:"to",required:!0,onChange:function(e){z(e.target.value)},name:"to",style:{width:150,height:20},placeholder:"To"})]})]})}):Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),Object(v.jsx)("p",{children:"Please click on a Customer..."})]}),Object(v.jsx)("div",{className:"rootClassname",children:Object(v.jsx)(_e.Provider,{value:i,children:Object(v.jsx)(I.c,{columns:J,onRowsChange:function(e,t){!function(e,t){var n=e[t.indexes][t.column.key],a=e[t.indexes].idtoday;console.log(e[t.indexes].id+" - "+n+" - "+a+" - "+t.column.key),function(e,t,n,a,i,c){var r={id:i,partyId:e,date:t.format("DD"),month:n.format("MMM-YYYY"),quantity:a,type:"expence"};i?P.update(i,r).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})):P.create(r).then((function(e){c.idtoday=e.data.id,console.log(c)})).catch((function(e){console.log(e)}))}(e[t.indexes].id,j.currentDate,j.currentDate,n,a,e[t.indexes]),l[t.indexes]=e[t.indexes],d(l.slice())}(e,t)},defaultColumnOptions:{sortable:!0,resizable:!0},className:i.enabled?"filterContainerClassname":void 0,rows:te,sortColumns:g,onSortColumnsChange:y,headerRowHeight:i.enabled?50:void 0})})}),Object(v.jsxs)(de.a,{open:U,onClose:Z,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(v.jsx)(be.a,{id:"alert-dialog-title",children:"Bills"}),Object(v.jsx)(he.a,{children:Object(v.jsx)(me.a,{id:"alert-dialog-description",children:V})}),Object(v.jsxs)(ue.a,{children:[W?Object(v.jsx)(le.a,{onClick:function(){Q(!1),ee(j.currentDate.format("MMM-YYYY")),_(!1)},children:"Confirm"}):"",Object(v.jsx)(le.a,{onClick:Z,children:"Close"})]})]})]})};function He(e){var t=e.isCellSelected,n=e.column,i=e.children,c=Object(a.useContext)(_e),r=function(e){var t=Object(a.useRef)(null);return Object(a.useLayoutEffect)((function(){e&&t.current&&t.current.focus({preventScroll:!0})}),[e]),{ref:t,tabIndex:e?0:-1}}(t),o=r.ref,s=r.tabIndex;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{children:n.name}),c.enabled&&Object(v.jsx)("div",{children:i({ref:o,tabIndex:s,filters:c})})]})}var Je=["filters"],$e=["filters"],Xe="filter-cell",Ze="filterClassname",et=Object(a.createContext)(void 0);function tt(e){["ArrowLeft","ArrowRight"].includes(e.key)&&e.stopPropagation()}function nt(e){return"name"===e?function(t,n){return t[e].localeCompare(n[e])}:function(t,n){return t[e]-n[e]}}var at=function(e){var t=Object(a.useState)({name:"",route:"",enabled:!0}),n=Object(w.a)(t,2),i=n[0],c=n[1],r={currentDate:b()()},o=Object(a.useState)([]),s=Object(w.a)(o,2),l=s[0],d=s[1],h=Object(a.useState)(),m=Object(w.a)(h,2),j=(m[0],m[1],Object(a.useState)({})),O=Object(w.a)(j,2),f=(O[0],O[1],Object(a.useState)(!1)),p=Object(w.a)(f,2),y=(p[0],p[1],Object(a.useState)(!1)),x=Object(w.a)(y,2),C=(x[0],x[1],Object(a.useState)(r)),k=Object(w.a)(C,2),D=k[0],R=k[1],q=Object(a.useState)([]),A=Object(w.a)(q,2),T=A[0],F=A[1],W=Object(a.useState)(),Q=Object(w.a)(W,2),E=(Q[0],Q[1],Object(a.useState)()),L=Object(w.a)(E,2),U=(L[0],L[1],[{key:"id",name:"ID",minWidth:40,resizable:!0,headerCellClass:Xe,headerRenderer:function(e){return Object(v.jsx)(it,Object(N.a)(Object(N.a)({},e),{},{children:function(e){var t=e.filters,n=Object(S.a)(e,Je);return Object(v.jsx)("input",Object(N.a)(Object(N.a)({},n),{},{className:Ze,value:t.name,onChange:function(e){return c(Object(N.a)(Object(N.a)({},t),{},{name:e.target.value}))},onKeyDown:tt}))}}))}},{key:"name",name:"Name",width:200,resizable:!0,formatter:function(e){return Object(v.jsxs)(v.Fragment,{children:[e.row.name,Object(v.jsx)(u.b,{disable:"true",to:"#",onClick:function(){return function(e,t,n){var a={id:n.id,name:n.name,route:n.route,index:n.index,qty:n.quantity,bill:n.bill,paid:n.paid};n.index=t+1,l.splice(t,0,a),d(l.slice())}(e.row.id,e.row.index,e.row)},className:"badge badge-warning",children:"Add"})]})}},{key:"today",name:"Quantity",editor:z,editorOptions:{editOnClick:!0},minWidth:80,resizable:!0},{key:"fat",name:"Fat",minWidth:20,resizable:!0,editor:z,editorOptions:{editOnClick:!0}},{key:"snf",name:"Snf",minWidth:20,resizable:!0,editor:z,editorOptions:{editOnClick:!0}},{key:"water",name:"Water",minWidth:40,resizable:!0,editor:z,editorOptions:{editOnClick:!0}},{key:"rate",name:"Rate",minWidth:40,resizable:!0,editor:z,editorOptions:{editOnClick:!0}},{key:"amount",name:"Amount",minWidth:40,resizable:!0},{key:"route",name:"Route",minWidth:40,resizable:!0,headerCellClass:Xe,headerRenderer:function(e){return Object(v.jsx)(it,Object(N.a)(Object(N.a)({},e),{},{children:function(e){var t=e.filters,n=Object(S.a)(e,$e);return Object(v.jsx)("input",Object(N.a)(Object(N.a)({},n),{},{className:Ze,value:t.route,onChange:function(e){return c(Object(N.a)(Object(N.a)({},t),{},{route:e.target.value}))},onKeyDown:tt}))}}))}},{key:"bill",name:"Bill",minWidth:40,resizable:!0},{key:"qty",name:"Bill Qty",minWidth:70,resizable:!0},{key:"paid",name:"Paid",minWidth:60,resizable:!0}]);Object(a.useEffect)((function(){var t={currentDate:b()(e.match.params.date,"DD-MMM-YYYY")};R(t);var n=null;g.getAll({active:!0,type:"farmer"}).then((function(e){var a=e.data;n=new Array(a.length),a.map((function(e,t){n[t]={},n[t].id=e.id,n[t].name=e.name,n[t].route=e.route.name,n[t].index=t})),function(e,t){var n={date:e.currentDate.format("DD"),month:e.currentDate.format("MMM-YYYY"),type:"expense"};P.getAll(n).then((function(n){var a=n.data;a&&a.map((function(e){var n,a=Object(Y.a)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.id==e.partyId){if(i.idtoday){var c={id:i.id,name:i.name,route:i.route,index:i.index+1,today:e.quantity,idtoday:e.id,fat:e.fat,snf:e.snf,water:e.water,rate:e.rate,amount:e.amount};t.splice(i.index,0,c)}else i.today=e.quantity,i.idtoday=e.id,i.fat=e.fat,i.snf=e.snf,i.water=e.water,i.rate=e.rate,i.amount=e.amount;break}}}catch(r){a.e(r)}finally{a.f()}})),function(e,t){var n={from:e.currentDate.format("YYYY-MM-DD"),month:e.currentDate.format("MMM-YYYY"),active:!0,type:"expense"};je.getAll(n).then((function(n){var a=n.data;t&&t.map((function(e){var t,n=Object(Y.a)(a);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(e.id==i.partyId){i.bill&&(e.qty=i.quantity,e.bill=i.bill);break}}}catch(c){n.e(c)}finally{n.f()}})),function(e,t){var n={month:e.currentDate.format("MMM-YYYY"),active:!0,type:"expense"};Oe.getAll(n).then((function(e){var n=e.data;t&&t.map((function(e){n&&n.map((function(t){t.partyId==e.id&&(e.paid?e.paid=e.paid+t.payment:e.paid=+t.payment)}))})),console.log(t),d(t)})).catch((function(e){console.log(e)}))}(e,t)})).catch((function(e){console.log(e)}))}(e,t)})).catch((function(e){console.log(e)}))}(t,n)})).catch((function(e){console.log(e)}))}),[e.match.params.date]);var _=Object(a.useMemo)((function(){return function(){var e=null;return e=l.filter((function(e){return(!i.name||e.name.includes(i.name))&&(!i.route||e.route.includes(i.route))})),0===T.length?e:e=Object(M.a)(e).sort((function(e,t){var n,a=Object(Y.a)(T);try{for(a.s();!(n=a.n()).done;){var i=n.value,c=nt(i.columnKey)(e,t);if(0!==c)return"ASC"===i.direction?c:-c}}catch(r){a.e(r)}finally{a.f()}return 0}))}()}),[l,i,T]);return Object(v.jsxs)("div",{children:[D?Object(v.jsx)("div",{children:Object(v.jsxs)(B.a,{container:!0,spacing:{xs:1},children:[Object(v.jsxs)(B.a,{item:!0,xs:6,sm:3,children:[Object(v.jsx)(u.b,{to:"/gui/collectionDaily/"+D.currentDate.clone().subtract(1,"days").format("DD-MMM-YYYY"),className:"badge badge-warning",children:"Prev"}),D.currentDate.format("DD-MMM-YYYY"),Object(v.jsx)(u.b,{to:"/gui/collectionDaily/"+D.currentDate.clone().add(1,"days").format("DD-MMM-YYYY"),className:"badge badge-warning",children:"Next"})]}),Object(v.jsxs)(B.a,{item:!0,xs:3,sm:1,children:["\xa0",Object(v.jsx)(le.a,{variant:"warning",className:"badge",children:Object(v.jsx)(De.CSVLink,{data:_,filename:"dailyCollectionExpense.txt",children:"Export"})})]})]})}):Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),Object(v.jsx)("p",{children:"Please click on a Customer..."})]}),Object(v.jsx)("div",{className:"rootClassname",children:Object(v.jsx)(et.Provider,{value:i,children:Object(v.jsx)(I.c,{columns:U,onRowsChange:function(e,t){!function(e,t){var n=e[t.indexes],a=n[t.column.key],i=n.idtoday;console.log(n.id+" - "+a+" - "+i+" - "+t.column.key),function(e,t,n,a,i,c,r,o,s,l){var d=0,u=0;l&&(l<30?30:l);a&&(u=a);d=l*u,c.amount=d;var h={id:i,partyId:e,date:t.format("DD"),deliveryDate:t.format("DD-MMM-YYYY"),month:n.format("MMM-YYYY"),fat:r,snf:o,water:s,quantity:a,rate:l,type:"expense",amount:d,category:"collection"};console.log(h),i?P.update(i,h).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})):P.create(h).then((function(e){c.idtoday=e.data.id,console.log(c)})).catch((function(e){console.log(e)}))}(n.id,D.currentDate,D.currentDate,n.today,i,n,n.fat,n.snf,n.water,n.rate)}(e,t),d(e)},defaultColumnOptions:{sortable:!0,resizable:!0},className:i.enabled?"filterContainerClassname":void 0,rows:_,sortColumns:T,onSortColumnsChange:F,headerRowHeight:i.enabled?50:void 0})})})]})};function it(e){var t=e.isCellSelected,n=e.column,i=e.children,c=Object(a.useContext)(et),r=function(e){var t=Object(a.useRef)(null);return Object(a.useLayoutEffect)((function(){e&&t.current&&t.current.focus({preventScroll:!0})}),[e]),{ref:t,tabIndex:e?0:-1}}(t),o=r.ref,s=r.tabIndex;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{children:n.name}),c.enabled&&Object(v.jsx)("div",{children:i({ref:o,tabIndex:s,filters:c})})]})}var ct=["filters"],rt=Object(a.createContext)(void 0);function ot(e){["ArrowLeft","ArrowRight"].includes(e.key)&&e.stopPropagation()}function st(e){e.stopPropagation()}function lt(e){switch(e){case"name":case"address":case"startDate":case"endDate":case"type":return function(t,n){return t[e].localeCompare(n[e])};default:return function(t,n){return t[e]-n[e]}}}var dt=function(e){var t=Object(a.useState)([]),n=Object(w.a)(t,2),i=n[0],c=n[1],r=Object(a.useState)([]),o=Object(w.a)(r,2),s=o[0],l=o[1],d=Object(a.useState)({name:"",enabled:!0}),h=Object(w.a)(d,2),m=h[0],b=h[1],j=[{key:"id",name:"ID",width:40,resizable:!0,frozen:!0,headerCellClass:"filter-cell",headerRenderer:function(e){return Object(v.jsx)(ut,Object(N.a)(Object(N.a)({},e),{},{children:function(e){var t=e.filters,n=Object(S.a)(e,ct);return Object(v.jsx)("input",Object(N.a)(Object(N.a)({},n),{},{className:"filterClassname",value:t.name,onChange:function(e){return b(Object(N.a)(Object(N.a)({},t),{},{name:e.target.value}))},onKeyDown:ot}))}}))}},{key:"name",name:"Name",editor:I.b,editorOptions:{editOnClick:!0},resizable:!0,frozen:!0},{key:"address",name:"Address",editor:I.b,editorOptions:{editOnClick:!0},resizable:!0},{key:"mobNo",name:"MobNo",editor:z,editorOptions:{editOnClick:!0},resizable:!0},{key:"startDate",name:"StartDate",editor:I.b,editorOptions:{editOnClick:!0},resizable:!0},{key:"endDate",name:"EndDate",editor:I.b,editorOptions:{editOnClick:!0},resizable:!0},{key:"defaultQuantity",name:"Quantity",width:40,editor:z,editorOptions:{editOnClick:!0},resizable:!0},{key:"active",name:"Active",width:40,formatter:function(e){var t=e.row,n=e.onRowChange,a=e.isCellSelected;return Object(v.jsx)(I.a,{value:t.active,onChange:function(){n(Object(N.a)(Object(N.a)({},t),{},{active:!t.active}))},onClick:st,isCellSelected:a})}},{key:"routeId",name:"Route",resizable:!0,formatter:function(e){return Object(v.jsx)(v.Fragment,{children:e.row.routeName})},editor:W,editorOptions:{editOnClick:!0}},{key:"routeSeq",name:"Seq",width:40,editor:z,editorOptions:{editOnClick:!0},resizable:!0},{key:"type",name:"Type",width:80,editor:I.b,editorOptions:{editOnClick:!0},resizable:!0}];Object(a.useEffect)((function(){var e=null,t={_sort:"routeId",_order:"asc"};console.log(t),g.getAll(t).then((function(t){var n=t.data;e=new Array(n.length),n.map((function(t,n){e[n]={},e[n].id=t.id,e[n].name=t.name,e[n].address=t.address,e[n].mobNo=t.mobNo,e[n].startDate=t.startDate,e[n].endDate=t.endDate,e[n].defaultQuantity=t.defaultQuantity,e[n].active=t.active,e[n].routeId=t.routeId,e[n].routeSeq=t.routeSeq,e[n].type=t.type,t.route&&(e[n].routeName=t.route.name)})),c(e)})).catch((function(e){console.log(e)}))}),[]);var O=Object(a.useMemo)((function(){return function(){var e=null;return e=i.filter((function(e){return!m.name||e.name.includes(m.name)})),0===s.length?e:e=Object(M.a)(e).sort((function(e,t){var n,a=Object(Y.a)(s);try{for(a.s();!(n=a.n()).done;){var i=n.value,c=lt(i.columnKey)(e,t);if(0!==c)return"ASC"===i.direction?c:-c}}catch(r){a.e(r)}finally{a.f()}return 0}))}()}),[i,m,s]);return Object(v.jsxs)("div",{children:[Object(v.jsx)(u.b,{to:"/gui/addCustomer",className:"nav-link",children:"Add Customer"}),Object(v.jsx)("div",{className:"rootClassname",children:Object(v.jsx)(rt.Provider,{value:m,children:Object(v.jsx)(I.c,{columns:j,onRowsChange:function(e,t){!function(e,t){console.log(e[t.indexes].id+" - "+e[t.indexes][t.column.key]),function(e){var t={id:e.id,name:e.name,address:e.address,mobNo:e.mobNo,startDate:e.startDate,endDate:e.endDate,active:e.active,routeId:e.routeId,defaultQuantity:e.defaultQuantity,routeSeq:e.routeSeq,type:e.type};console.log(t),g.update(e.id,t).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}(e[t.indexes])}(e,t),c(e)},defaultColumnOptions:{sortable:!0,resizable:!0},className:m.enabled?"filterContainerClassname":void 0,rows:O,sortColumns:s,onSortColumnsChange:l,headerRowHeight:m.enabled?50:void 0})})})]})};function ut(e){var t=e.isCellSelected,n=e.column,i=e.children,c=Object(a.useContext)(rt),r=function(e){var t=Object(a.useRef)(null);return Object(a.useLayoutEffect)((function(){e&&t.current&&t.current.focus({preventScroll:!0})}),[e]),{ref:t,tabIndex:e?0:-1}}(t),o=r.ref,s=r.tabIndex;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{children:n.name}),c.enabled&&Object(v.jsx)("div",{children:i({ref:o,tabIndex:s,filters:c})})]})}var ht=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={bills:null},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.getBills(this.props.match.params.month)}},{key:"getBills",value:function(e){var t=this,n={month:e,active:!0,type:"income"},a=[];je.getAll(n).then((function(n){var i=n.data;i&&i.map((function(t,n){if(t.quantity>0||t.dues>0){var i={};i.id=t.id,i.partyId=t.partyId,i.month=e,i.qty=t.quantity,i.rate=t.rate,i.bill=t.bill,i.dues=t.dues,i.totalBill=i.bill+(i.dues?i.dues:0),i.paid=+t.payment,i.discount=+t.discount,i.lastBillTotal=+t.lastBillTotal,i.name=t.party,a[n]={},a[n]=i}}));var c={month:e,type:"income"};P.getAll(c).then((function(e){var n=e.data;n&&n.map((function(e){var t,n=Object(Y.a)(a);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i&&i.partyId==e.partyId){i[e.date]=e.quantity;break}}}catch(c){n.e(c)}finally{n.f()}})),console.log(a),t.setState({bills:a})})).catch((function(e){console.log(e)})),t.setState({bills:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.bills;return Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("table",{className:"table",children:e&&e.map((function(e){return Object(v.jsx)("tr",{children:Object(v.jsx)("td",{children:Object(v.jsxs)("table",{className:"table noBorder",border:"1",children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Name"}),Object(v.jsx)("td",{children:Object(v.jsx)("b",{children:e.name?e.name:e.id})}),Object(v.jsx)("th",{children:"Month"}),Object(v.jsx)("td",{children:e.month}),Object(v.jsx)("th",{children:"Last Bill"}),Object(v.jsx)("td",{children:e.lastBillTotal}),Object(v.jsx)("th",{children:"Payment"}),Object(v.jsx)("td",{children:e.paid}),Object(v.jsx)("th",{children:"Discount"}),Object(v.jsx)("td",{children:e.discount})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Quantity"}),Object(v.jsx)("td",{children:e.qty+" Ltr"}),Object(v.jsx)("th",{children:"Rate"}),Object(v.jsx)("td",{children:e.rate}),Object(v.jsx)("th",{children:"Bill"}),Object(v.jsx)("td",{children:e.bill}),Object(v.jsx)("th",{children:"Dues"}),Object(v.jsx)("td",{children:e.dues}),Object(v.jsx)("th",{children:"Total Bill"}),Object(v.jsxs)("td",{children:[e.totalBill," "]})]}),Object(v.jsx)("tr",{children:Object(v.jsx)("td",{style:{margin:0,padding:0},colspan:10,children:Object(v.jsxs)("table",{style:{margin:0,padding:0},children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"Day"}),Object(v.jsx)("td",{children:"1"}),Object(v.jsx)("td",{children:"2"}),Object(v.jsx)("td",{children:"3"}),Object(v.jsx)("td",{children:"4"}),Object(v.jsx)("td",{children:"5"}),Object(v.jsx)("td",{children:"6"}),Object(v.jsx)("td",{children:"7"}),Object(v.jsx)("td",{children:"8"}),Object(v.jsx)("td",{children:"9"}),Object(v.jsx)("td",{children:"10"}),Object(v.jsx)("td",{children:"11"}),Object(v.jsx)("td",{children:"12"}),Object(v.jsx)("td",{children:"13"}),Object(v.jsx)("td",{children:"14"}),Object(v.jsx)("td",{children:"15"}),Object(v.jsx)("td",{children:"16"}),Object(v.jsx)("td",{rowSpan:2,children:Object(v.jsx)("h1",{children:"RAMJI DAIRY"})})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"Quantity"}),Object(v.jsx)("td",{children:e["01"]}),Object(v.jsx)("td",{children:e["02"]}),Object(v.jsx)("td",{children:e["03"]}),Object(v.jsx)("td",{children:e["04"]}),Object(v.jsx)("td",{children:e["05"]}),Object(v.jsx)("td",{children:e["06"]}),Object(v.jsx)("td",{children:e["07"]}),Object(v.jsx)("td",{children:e["08"]}),Object(v.jsx)("td",{children:e["09"]}),Object(v.jsx)("td",{children:e[10]}),Object(v.jsx)("td",{children:e[11]}),Object(v.jsx)("td",{children:e[12]}),Object(v.jsx)("td",{children:e[13]}),Object(v.jsx)("td",{children:e[14]}),Object(v.jsx)("td",{children:e[15]}),Object(v.jsx)("td",{children:e[16]})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"Day"}),Object(v.jsx)("td",{children:"17"}),Object(v.jsx)("td",{children:"18"}),Object(v.jsx)("td",{children:"19"}),Object(v.jsx)("td",{children:"20"}),Object(v.jsx)("td",{children:"21"}),Object(v.jsx)("td",{children:"22"}),Object(v.jsx)("td",{children:"23"}),Object(v.jsx)("td",{children:"24"}),Object(v.jsx)("td",{children:"25"}),Object(v.jsx)("td",{children:"26"}),Object(v.jsx)("td",{children:"27"}),Object(v.jsx)("td",{children:"28"}),Object(v.jsx)("td",{children:"29"}),Object(v.jsx)("td",{children:"30"}),Object(v.jsx)("td",{children:"31"}),Object(v.jsx)("td",{children:" "}),Object(v.jsx)("td",{rowSpan:2,children:Object(v.jsx)("h3",{children:"9860910995"})})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"quantity"}),Object(v.jsx)("td",{children:e[17]}),Object(v.jsx)("td",{children:e[18]}),Object(v.jsx)("td",{children:e[19]}),Object(v.jsx)("td",{children:e[20]}),Object(v.jsx)("td",{children:e[21]}),Object(v.jsx)("td",{children:e[22]}),Object(v.jsx)("td",{children:e[23]}),Object(v.jsx)("td",{children:e[24]}),Object(v.jsx)("td",{children:e[25]}),Object(v.jsx)("td",{children:e[26]}),Object(v.jsx)("td",{children:e[27]}),Object(v.jsx)("td",{children:e[28]}),Object(v.jsx)("td",{children:e[29]}),Object(v.jsx)("td",{children:e[30]}),Object(v.jsx)("td",{children:e[31]})]})]})})})]})})})}))})})}}]),n}(a.Component),mt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={bills:null},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.getBills(this.props.match.params.from,this.props.match.params.to,this.props.match.params.partyId)}},{key:"getBills",value:function(e,t,n){var a=this,i={from:e,to:t,active:!0,type:"expense",category:"collection",partyId:n};console.log(i);var c=[];je.getAll(i).then((function(n){var i=n.data;console.log(i),i&&i.map((function(e,t){if(e.quantity>0||e.dues>0){var n={};n.id=e.id,n.partyId=e.partyId,n.from=e.from,n.to=e.to,n.qty=e.quantity,n.rate=e.rate,n.bill=e.bill,n.dues=e.dues,n.totalBill=n.bill+(n.dues?n.dues:0),n.paid=+e.payment,n.discount=+e.discount,n.lastBillTotal=+e.lastBillTotal,n.name=e.party,c[t]={},c[t]=n}}));var r={from:e,to:t,type:"expense",category:"collection"};P.getAll(r).then((function(e){var t=e.data;t&&t.map((function(e){var t,n=Object(Y.a)(c);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a&&a.partyId==e.partyId){a.delivery?a.delivery[a.delivery.length]=e:(a.delivery=new Array,a.delivery[0]=e);break}}}catch(i){n.e(i)}finally{n.f()}})),console.log(c),a.setState({bills:c})})).catch((function(e){console.log(e)})),a.setState({bills:c})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.bills;return Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("table",{className:"table",children:e&&e.map((function(e){return Object(v.jsx)("tr",{children:Object(v.jsx)("td",{children:Object(v.jsxs)("table",{className:"table noBorder",border:"1",children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Name"}),Object(v.jsx)("td",{children:Object(v.jsx)("b",{children:e.name?e.name:e.id})}),Object(v.jsx)("th",{children:"From"}),Object(v.jsx)("td",{children:e.from}),Object(v.jsx)("th",{children:"To"}),Object(v.jsx)("td",{children:e.to}),Object(v.jsx)("th",{children:"Last Bill"}),Object(v.jsx)("td",{children:e.lastBillTotal}),Object(v.jsx)("th",{children:"Payment"}),Object(v.jsx)("td",{children:e.paid}),Object(v.jsx)("th",{children:"Discount"}),Object(v.jsx)("td",{children:e.discount})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Quantity"}),Object(v.jsx)("td",{colSpan:3,children:e.qty+" Ltr"}),Object(v.jsx)("th",{children:"Bill"}),Object(v.jsx)("td",{children:e.bill}),Object(v.jsx)("th",{children:"Dues"}),Object(v.jsx)("td",{children:e.dues}),Object(v.jsx)("th",{children:"Total Bill"}),Object(v.jsxs)("td",{colSpan:3,children:[e.totalBill," "]})]}),Object(v.jsx)("tr",{children:Object(v.jsx)("td",{style:{margin:0,padding:0},colspan:12,children:Object(v.jsx)("table",{style:{margin:0,padding:0},children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsxs)("table",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Date"}),Object(v.jsx)("th",{children:"SNF"}),Object(v.jsx)("th",{children:"Water"}),Object(v.jsx)("th",{children:"Rate"}),Object(v.jsx)("th",{children:"Quantity"}),Object(v.jsx)("th",{children:"Amount"})]}),e.delivery&&e.delivery.map((function(e,t){return t%2==0?Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("b",{children:e.date})}),Object(v.jsx)("td",{children:e.snf}),Object(v.jsx)("td",{children:e.water}),Object(v.jsx)("td",{children:e.rate}),Object(v.jsx)("td",{children:e.quantity}),Object(v.jsx)("td",{children:e.amount})]}):""}))]})}),Object(v.jsx)("td",{children:Object(v.jsxs)("table",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Date"}),Object(v.jsx)("th",{children:"SNF"}),Object(v.jsx)("th",{children:"Water"}),Object(v.jsx)("th",{children:"Rate"}),Object(v.jsx)("th",{children:"Quantity"}),Object(v.jsx)("th",{children:"Amount"})]}),e.delivery&&e.delivery.map((function(e,t){return t%2==1?Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("b",{children:e.date})}),Object(v.jsx)("td",{children:e.snf}),Object(v.jsx)("td",{children:e.water}),Object(v.jsx)("td",{children:e.rate}),Object(v.jsx)("td",{children:e.quantity}),Object(v.jsx)("td",{children:e.amount})]}):""}))]})})]})})})})]})})})}))})})}}]),n}(a.Component),bt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={bills:null},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.getBills(this.props.match.params.month)}},{key:"getBills",value:function(e){var t=this,n={month:e,active:!0,type:"expense"},a=[];je.getAll(n).then((function(n){var i=n.data;i&&i.map((function(n,i){if(n.quantity>0||n.dues>0||n.payment>0){var c={};c.id=n.id,c.partyId=n.partyId,c.month=e,c.qty=n.quantity,c.rate=n.rate,c.bill=n.bill,c.dues=n.dues,c.totalBill=c.bill+(c.dues?c.dues:0),c.paid=+n.payment,n.customer&&(c.name=n.customer.name),a[i]={},a[i]=c;var r={month:e,type:"expense",partyId:n.partyId};P.getAll(r).then((function(e){var n=e.data;a[i].allBills=n,t.setState({bills:a})})).catch((function(e){console.log(e)})),Oe.getAll(r).then((function(e){var n=e.data;a[i].allPayments=n,t.setState({bills:a})})).catch((function(e){console.log(e)}))}})),console.log(a),t.setState({bills:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.bills;return Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("table",{className:"table",children:e&&e.map((function(e){return Object(v.jsx)("tr",{children:Object(v.jsx)("td",{children:Object(v.jsxs)("table",{className:"table noBorder",border:"1",children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Name"}),Object(v.jsx)("td",{colspan:"3",children:Object(v.jsx)("b",{children:e.name?e.name:e.id})}),Object(v.jsx)("th",{children:"Month"}),Object(v.jsx)("td",{children:e.month}),Object(v.jsx)("th",{children:"Quantity"}),Object(v.jsx)("td",{children:e.qty})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Bill"}),Object(v.jsx)("td",{children:e.bill}),Object(v.jsx)("th",{children:"Prev Dues"}),Object(v.jsx)("td",{children:e.dues}),Object(v.jsx)("th",{children:"Total Bill"}),Object(v.jsxs)("td",{children:[e.totalBill," "]}),Object(v.jsx)("th",{children:"Payment"}),Object(v.jsxs)("td",{children:[e.paid," "]})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{colspan:4,children:Object(v.jsx)("table",{width:"100%",children:e.allBills&&e.allBills.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{children:[e.date,"-",e.month]}),Object(v.jsx)("td",{children:e.amount})]})}))})}),Object(v.jsx)("td",{colspan:4,children:Object(v.jsx)("table",{width:"100%",children:e.allPayments&&e.allPayments.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{children:[e.date,"-",e.month]}),Object(v.jsx)("td",{children:e.payment})]})}))})})]})]})})})}))})})}}]),n}(a.Component);function jt(e){switch(e){case"name":case"date":case"month":case"category":return function(t,n){return t[e].localeCompare(n[e])};default:return function(t,n){return t[e]-n[e]}}}var Ot=[{key:"id",name:"ID",width:40,resizable:!0},{key:"name",name:"Name",width:50,resizable:!0},{key:"date",name:"Date",editor:I.b,width:20,resizable:!0},{key:"month",name:"Month",editor:I.b,width:40,resizable:!0},{key:"payment",name:"Payment Amount",width:140,editor:z,resizable:!0},{key:"amount",name:"Bill Amount",width:120,editor:z,resizable:!0},{key:"quantity",name:"Quantity",width:80,editor:z,resizable:!0},{key:"category",name:"Category",editor:I.b,resizable:!0}],ft=function(e){var t={currentDate:b()()},n=Object(a.useState)([]),i=Object(w.a)(n,2),c=i[0],r=i[1],o=Object(a.useState)([]),s=Object(w.a)(o,2),l=s[0],d=s[1],h=Object(a.useState)(t),m=Object(w.a)(h,2),j=m[0],O=m[1],f=Object(a.useState)(!1),p=Object(w.a)(f,2),g=p[0],y=p[1],x=Object(a.useState)(!1),C=Object(w.a)(x,2),k=C[0],D=C[1],N=Object(a.useState)(),S=Object(w.a)(N,2),R=S[0],q=S[1];Object(a.useEffect)((function(){var t={currentDate:b()(e.match.params.month,"MMM-YYYY")};O(t);var n=null,a={type:"expense",month:e.match.params.month,searchFlag:"not-collection"};P.getAll(a).then((function(t){var a=t.data;console.log(a),n=[],a&&a.map((function(e,t){n[t]={},n[t].id=e.id,n[t].partyId=e.partyId,n[t].date=e.date,n[t].month=e.month,n[t].quantity=e.quantity,n[t].amount=e.amount,n[t].type=e.type,n[t].category=e.category,n[t].name=e.party})),console.log(n),function(e,t){var n={month:e,active:!0,type:"expense"};Oe.getAll(n).then((function(e){var n=e.data;n&&n.map((function(e){var n=t.length;t[t.length]={},t[n].id=e.id,t[n].partyId=e.partyId,t[n].date=e.date,t[n].month=e.month,t[n].payment=e.payment,t[n].type=e.type,t[n].category=e.category,t[n].name=e.party})),r(t),console.log(t)})).catch((function(e){console.log(e)}))}(e.match.params.month,n)})).catch((function(e){console.log(e)}))}),[e.match.params.month]);var A=Object(a.useMemo)((function(){return 0===l.length?c:Object(M.a)(c).sort((function(e,t){var n,a=Object(Y.a)(l);try{for(a.s();!(n=a.n()).done;){var i=n.value,c=jt(i.columnKey)(e,t);if(0!==c)return"ASC"===i.direction?c:-c}}catch(r){a.e(r)}finally{a.f()}return 0}))}),[c,l]);function z(e){var t={month:e,type:"expense"};je.generateBills(t).then((function(t){var n=t.data;q("Bill generated for the month "+e+"."),T(),console.log(n)})).catch((function(e){console.log(e)}))}function T(){y(!0)}function F(){D(!1),y(!1)}return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{children:Object(v.jsxs)(B.a,{container:!0,spacing:{xs:1},children:[Object(v.jsx)(B.a,{item:!0,xs:6,sm:3,children:Object(v.jsx)(u.b,{to:"/gui/addExpense",className:"badge",children:"Add Expense"})}),Object(v.jsx)(B.a,{item:!0,xs:6,sm:3,children:Object(v.jsxs)(u.b,{to:"#",onClick:function(){return e=j.currentDate.format("MMM-YYYY"),void je.validateBillGeneration(e,"expense").then((function(t){console.log(t.data),t.data.rate?(D(!0),q("Bill already generated for the month "+e+". Do you want to continue? Please confirm to proceed."),T()):z(e)})).catch((function(t){console.log(t),404==t.response.status&&z(e)}));var e},className:"badge",children:["Generate Expense Bill Month - ",j.currentDate.format("MMM-YYYY")]})}),Object(v.jsxs)(B.a,{item:!0,xs:6,sm:3,children:[Object(v.jsx)(u.b,{to:"/gui/expense/"+j.currentDate.clone().subtract(1,"months").format("MMM-YYYY"),className:"badge badge-warning",children:"Prev"}),j.currentDate.format("DD-MMM-YYYY"),Object(v.jsx)(u.b,{to:"/gui/expense/"+j.currentDate.clone().add(1,"months").format("MMM-YYYY"),className:"badge badge-warning",children:"Next"})]}),Object(v.jsx)(B.a,{item:!0,xs:3,sm:2,children:Object(v.jsxs)(u.b,{to:"/gui/expenseBills/"+j.currentDate.format("MMM-YYYY"),className:"badge",children:["Print - ",j.currentDate.format("MMM-YYYY")]})}),Object(v.jsxs)(B.a,{item:!0,xs:3,sm:1,children:["\xa0",Object(v.jsx)(le.a,{variant:"warning",className:"badge",children:Object(v.jsx)(De.CSVLink,{data:A,filename:"expense.txt",children:"Export"})})]})]})}),Object(v.jsx)("div",{children:Object(v.jsx)(I.c,{columns:Ot,onRowsChange:function(e,t){!function(e,t){console.log(e[t.indexes].id+" - "+e[t.indexes][t.column.key]),function(e){var t={id:e.id,partyId:e.partyId,month:e.month,date:e.date,quantity:e.quantity,amount:e.amount,payment:e.payment,type:e.type,cotegory:e.category,active:!0};e.amount>0&&P.update(e.id,t).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}));e.payment>0&&Oe.update(e.id,t).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}(e[t.indexes])}(e,t),r(e)},defaultColumnOptions:{sortable:!0,resizable:!0},rows:A,sortColumns:l,onSortColumnsChange:d})}),Object(v.jsxs)(de.a,{open:g,onClose:F,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(v.jsx)(be.a,{id:"alert-dialog-title",children:"Bills"}),Object(v.jsx)(he.a,{children:Object(v.jsx)(me.a,{id:"alert-dialog-description",children:R})}),Object(v.jsxs)(ue.a,{children:[k?Object(v.jsx)(le.a,{onClick:function(){D(!1),z(j.currentDate.format("MMM-YYYY")),y(!1)},children:"Confirm"}):"",Object(v.jsx)(le.a,{onClick:F,children:"Close"})]})]})]})},pt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).saveExpense=a.saveExpense.bind(Object(j.a)(a)),a.onChangeQuantity=a.onChangeQuantity.bind(Object(j.a)(a)),a.onChangeAmount=a.onChangeAmount.bind(Object(j.a)(a)),a.onChangePayment=a.onChangePayment.bind(Object(j.a)(a)),a.newExpense=a.newExpense.bind(Object(j.a)(a)),a.onChangeCategory=a.onChangeCategory.bind(Object(j.a)(a)),a.onDate=a.onDate.bind(Object(j.a)(a)),a.myRef=i.a.createRef(),a.state={id:null,partyId:null,quantity:null,date:null,month:null,type:"expense",category:null,amount:null,payment:null,submitted:!1,routes:[],inputDate:b()().format("DD-MMM-YYYY")},a}return Object(s.a)(n,[{key:"onChangeQuantity",value:function(e){this.setState({quantity:e.target.value})}},{key:"onChangePayment",value:function(e){this.setState({payment:e.target.value})}},{key:"onChangeAmount",value:function(e){this.setState({amount:e.target.value})}},{key:"onDate",value:function(e){this.setState({inputDate:e.target.value})}},{key:"onChangeCategory",value:function(e){this.setState({category:e.target.value})}},{key:"saveExpense",value:function(e){var t=this;e.target.disabled=!0;var n={partyId:this.myRef.current.value,quantity:this.state.quantity,date:b()(this.state.inputDate,"DD-MMM-YYYY").format("DD"),month:b()(this.state.inputDate,"DD-MMM-YYYY").format("MMM-YYYY"),type:"expense",category:this.state.category,amount:this.state.amount,payment:this.state.payment,active:!0};this.state.amount>0&&P.create(n).then((function(e){t.setState({id:e.data.id,amount:e.data.amount,submitted:!0}),console.log(e.data)})).catch((function(e){console.log(e)})),this.state.payment>0&&Oe.create(n).then((function(n){t.setState({id:n.data.id,payment:n.data.payment,submitted:!0}),console.log(n.data),e.target.disabled=!1})).catch((function(e){console.log(e)}))}},{key:"newExpense",value:function(){this.setState({id:null,partyId:null,quantity:null,date:null,month:null,type:"expense",category:null,amount:null,payment:null,submitted:!1,inputDate:b()().format("DD-MMM-YYYY")})}},{key:"componentDidMount",value:function(){this.getRoute()}},{key:"getRoute",value:function(){var e=this;g.getAll({searchFlag:"non-customer"}).then((function(t){e.setState({routes:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.routes;return Object(v.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"You submitted successfully!"}),Object(v.jsx)("button",{className:"btn btn-success",onClick:this.newExpense,children:"Add"})]}):Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Vendor/Staff Name"}),Object(v.jsx)("div",{className:"select-container",children:Object(v.jsx)("select",{className:"form-control",value:this.state.partyId,onChange:this.onChangeRoute,ref:this.myRef,name:"partyId",children:e&&e.map((function(e){return Object(v.jsx)("option",{value:e.id,children:e.name})}))})})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"quantity",children:"Quantity"}),Object(v.jsx)("input",{type:"number",className:"form-control",id:"quantity",required:!0,value:this.state.quantity,onChange:this.onChangeQuantity,name:"quantity"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"amount",children:"Bill Amount"}),Object(v.jsx)("input",{type:"number",className:"form-control",id:"amount",required:!0,value:this.state.amount,onChange:this.onChangeAmount,name:"amount"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"payment",children:"Payment Amount"}),Object(v.jsx)("input",{type:"number",className:"form-control",id:"payment",required:!0,value:this.state.payment,onChange:this.onChangePayment,name:"payment"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"category",children:"Category "}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"category",required:!0,value:this.state.category,onChange:this.onChangeCategory,name:"category"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"inputDate",children:"Date"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"inputDate",required:!0,readOnly:"readOnly",value:this.state.inputDate,onChange:this.onDate,name:"inputDate"})]}),Object(v.jsx)("button",{onClick:this.saveExpense,className:"btn btn-success",children:"Submit"})]})})}}]),n}(a.Component),gt=new(function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}},{key:"setCurrentUser",value:function(e){if("Alok"==e){localStorage.setItem("user",JSON.stringify({id:"alok",roles:["ROLE_ADMIN","ROLE_MODERATOR"]}))}}}]),e}()),yt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){gt.setCurrentUser("Alok"),console.log(gt.getCurrentUser()),this.props.history.push("/gui/routes"),window.location.reload()}},{key:"render",value:function(){return""}}]),n}(a.Component),vt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={showModeratorBoard:!0,showAdminBoard:!1,currentUser:void 0},console.log(e),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=gt.getCurrentUser();e&&this.setState({currentUser:e,showModeratorBoard:e.roles.includes("ROLE_MODERATOR"),showAdminBoard:e.roles.includes("ROLE_ADMIN")})}},{key:"render",value:function(){var e=this.state,t=(e.currentUser,e.showModeratorBoard),n=e.showAdminBoard;return Object(v.jsx)(u.a,{children:Object(v.jsxs)("div",{children:[Object(v.jsx)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:Object(v.jsxs)("div",{className:"navbar-nav mr-auto",children:[t&&Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(u.b,{to:"/gui/routes",className:"nav-link",children:"Routes"})}),t&&Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(u.b,{to:"/gui/customerDaily/"+b()().format("DD-MMM-YYYY"),className:"nav-link",children:"Today"})}),n&&Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(u.b,{to:"/gui/customerCalendar/"+b()().format("MMM-YYYY"),className:"nav-link",children:"Calendar"})}),t&&Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(u.b,{to:"/gui/expense/"+b()().format("MMM-YYYY"),className:"nav-link",children:"Expense"})}),n&&Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(u.b,{to:"/gui/customers",className:"nav-link",children:"Party"})}),n&&Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(u.b,{to:"/gui/productlist",className:"nav-link",children:"ProductList"})}),n&&Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(u.b,{to:"/gui/sellerProductlist",className:"nav-link",children:"SellerProductList"})}),t&&Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(u.b,{to:"/gui/collectionDaily/"+b()().format("DD-MMM-YYYY"),className:"nav-link",children:"Collection"})}),t&&Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(u.b,{to:"/gui/CollectionBillsList/"+b()().format("DD-MMM-YYYY"),className:"nav-link",children:"CollectionBillsList"})})]})}),Object(v.jsx)("div",{className:"container mt-3",children:Object(v.jsxs)(h.c,{children:[Object(v.jsx)(h.a,{exact:!0,path:["/","/gui/routes"],component:F}),"// ",Object(v.jsx)(h.a,{exact:!0,path:["/","/gui/routes/:date"],component:F}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/customers",component:dt}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/addCustomer",component:x}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/productlist",component:_}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/addProduct",component:D}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/sellerProduct",component:V}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/sellerProductlist",component:Z}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/dailyDelivery/:id",component:pe}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/dailyDelivery/:id/:pending",component:pe}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/route",component:ve}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/routes",component:F}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/customerCalendar/:date",component:Re}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/customerDaily/:date",component:Ee}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/bills/:month",component:ht}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/collectionbills/:from/:to",component:mt}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/collectionbills/:from/:to/:partyId",component:mt}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/expenseBills/:month",component:bt}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/bills/:month/:partyId",component:ht}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/expense/:month",component:ft}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/addExpense",component:pt}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/login",component:yt}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/collectionDaily/:date",component:at}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/routes/:date",component:F}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/CollectionBillsList/:date",component:Ve}),Object(v.jsx)(h.a,{exact:!0,path:"/gui/employeeDaily/:date",component:Ee})]})})]})})}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xt=n(172);r.a.render(Object(v.jsx)(xt.a,{injectFirst:!0,children:Object(v.jsx)(vt,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[143,1,2]]]);
//# sourceMappingURL=main.9021d6a1.chunk.js.map